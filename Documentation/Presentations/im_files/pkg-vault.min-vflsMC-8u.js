define("modules/clean/react/vault/index_page",["require","exports","tslib","dropbox/proto/js_init_data/vault/vault","external/lodash","proto_utils/unpack","react","modules/clean/history","modules/clean/react/file_transfers/components/hoc","modules/clean/react/hoc","modules/clean/react/maestro/layout/chrome","modules/clean/react/vault/components/snackbars","modules/clean/react/vault/components/unlock_view","modules/clean/react/vault/constants","modules/clean/react/vault/lib/urls","modules/clean/react/vault/provider","modules/clean/react/vault/redux/store","modules/clean/viewer","modules/core/browser","vault/common/constants"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g,E,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importDefault(l),s=a.__importDefault(s);t.RootComponent=c.withCSS(f.VAULT_STYLESHEETS)(i.withReduxStore(v.getVaultStore())((function(e){var t,a=e.encodedProto,i=r.unpackProto(a,n.vault.VaultIndexProps),c=i.expPinRecovery,f=i.hasPassword,v=i.encryptionOptions,A=(function(e){void 0===e&&(e=!1);var t=E.get_uri(),a=t.getQuery(),n={expired:"1"===a.expired,contUrl:a.contUrl};return e&&s.default.replace_state(t.getPath(),o.omit(a,"expired")),n})(!0),b=A.contUrl,S=A.expired,M=null===(t=g.Viewer.get_viewer().personal_user)||void 0===t?void 0:t.id;return l.default.createElement(_.VaultProvider,{userId:M,experiments:{expVaultPinRecovery:null!=c&&c},encryptionOptions:v},l.default.createElement(u.MaestroChrome,{embeddedAppRegion:l.default.createElement("div",{"data-testid":T.TestTarget.INDEX_PAGE},l.default.createElement(m.UnlockView,{hasPassword:f,onUnlock:function(){b?E.redirect(b):E.redirect(p.vaultFolderUrl())}}),l.default.createElement(d.SessionExpiredSnackbar,{open:S}))}))})))})),define("modules/clean/react/vault/i18n_string_constants",["require","exports","tslib","react","modules/core/i18n"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.PASSWORD_UNMATCHED_MESSAGE=o.intl.formatMessage({id:"hpriaB",defaultMessage:"PINs didnâ€™t match, try again"}),t.PASSWORD_INVALID_MESSAGE=o.intl.formatMessage({id:"GdR1oX",defaultMessage:"PIN must be numbers only"}),t.ContactDropboxLink=function(e){return n.createElement("a",{href:"mailto:vault-feedback@dropbox.com"},e)}})),define("modules/clean/react/vault/vault_browse_root",["require","exports","tslib","react","react-dom","react-redux","modules/clean/bug_reporting/routing","modules/clean/react/hoc","modules/clean/react/snackbar","modules/clean/react/vault/components/vault_content","modules/clean/react/vault/components/vault_header","modules/clean/react/vault/components/vault_lock_button","modules/clean/react/vault/components/vault_lock_manager","modules/clean/react/vault/components/vault_setup_modal_root","modules/clean/react/vault/constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/lib/hooks","modules/clean/react/vault/lib/urls","modules/clean/react/vault/logging_types","modules/clean/react/vault/provider","modules/clean/react/vault/redux/actions","modules/clean/react/vault/redux/selectors","modules/clean/react/vault/redux/store","modules/core/i18n"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g,E,T,A,b,S,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.InternalVaultRoot=function(e){var t=e.encryptionOptions,a=e.expVaultPinRecovery,r=e.expVaultTrustedContactGA,s=e.metadata,i=e.path,p=e.shouldShowVaultEmptyState,_=e.user,g=e.isMetadataPending,E=e.handleComponentTTI,b=e.lock,S=e.refreshVaultMetadata,M=e.setHideFilesAndSidebar,C=e.contentSlot,y=e.headerSlot,N=e.lockButtonSlot,h=n.useState(!1),P=h[0],w=h[1],I=!1===(null==s?void 0:s.hasPassword);v.useComponentDidMount((function(){return null==s&&S(),function(){M(!1)}}));var D=O(b);return null!=y.current&&null!=C.current&&null!=N.current||console.error("Vault product failed to mount! One or more mount points were not available.",{headerSlot:y,contentSlot:C,lockButtonSlot:N}),n.createElement(l.RegisterComponentWithBugReporter,{componentId:"web.vault",componentName:"Vault"},n.createElement(T.VaultProvider,{userId:_.id,experiments:{expVaultPinRecovery:a,expVaultTrustedContactGA:r},encryptionOptions:t},n.createElement(m.VaultLockManager,{lock:D,isLocked:s.isLocked,lockExpirationTimestamp:s.lockExpirationTimestamp}),!g&&n.createElement(f.VaultSetupModal,{onComplete:function(){A.refreshVaultOnboardingState(),S(),I&&w(!0)},shouldShowOnboarding:I}),N.current&&o.createPortal(n.createElement(d.VaultLockButton,{lock:D,showTooltip:P,onCloseTooltip:function(){return w(!1)}}),N.current),y.current&&o.createPortal(n.createElement(u.VaultHeader,{lock:D}),y.current),C.current&&o.createPortal(n.createElement(c.VaultContent,{handleComponentTTI:E,shouldShowVaultEmptyState:p,path:i,user:_,setHideFilesAndSidebar:M}),C.current)))};var C={lock:A.lock,refreshVaultMetadata:A.refreshVaultMetadata,refreshVaultOnboardingState:A.refreshVaultOnboardingState};t.VaultRoot=s.withCSS(p.VAULT_STYLESHEETS)(s.withReduxStore(S.getVaultStore())(r.connect((function(e){return{metadata:b.getMetadata(e),isMetadataPending:b.getIsFirstMetadataPending(e)}}),C)(t.InternalVaultRoot)));var O=function(e){return function(){var t={lockSuccessful:M.intl.formatMessage({id:"WSKInX",defaultMessage:"Lock successful"}),lockFailed:M.intl.formatMessage({id:"CNx4iO",defaultMessage:"Fail to lock"})},a=t.lockSuccessful,n=t.lockFailed;return _.logProductAnalyticsEvent({eventAction:E.AnalyticsEventAction.SELECT,eventObject:E.AnalyticsEventObject.LOCK_VAULT,actionSurface:E.AnalyticsEventActionSurface.VAULT_HOME}),e().then((function(){i.Snackbar.complete(a,"lock-vault-success-snackbar"),g.redirectOnLock()})).catch((function(){i.Snackbar.fail(n,"lock-vault-failure-snackbar")}))}}})),define("modules/clean/react/vault/components/tabs/vault_tabs",["require","exports","tslib","react","react-redux","dig-components/tabs","modules/clean/react/vault/components/tabs/files_tab","modules/clean/react/vault/components/tabs/settings_tab","modules/clean/react/vault/redux/actions","modules/clean/react/vault/redux/selectors","modules/clean/react/vault/lib/hooks","modules/clean/react/vault/constants","modules/core/i18n","vault/common/constants"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(n=a.__importDefault(n)).default.useState,_=n.default.useEffect;t.VaultTabType=Object.freeze({SETTINGS:"vault_settings",FILES:"vault_files"});var v=t.VaultTabType.FILES;t.DATA_TEST_ID=Object.freeze({settingsTabHeader:"settings-tab-header",filesTabHeader:"files-tab-header"}),t.InternalVaultTabs=function(e){var a=e.handleComponentTTI,o=e.metadata,i=e.path,c=e.refreshVaultMetadata,g=e.setHideFilesAndSidebar,E=e.setPassword,T=e.setVaultOnboardingState,A=e.shouldShowVaultEmptyState,b=e.user,S=p(v),M=S[0],C=S[1],O=u.useHashParam(d.VAULT_HASH_TAB_KEY,M),y=O[0],N=O[1];_((function(){var e=M===t.VaultTabType.SETTINGS;g(e),N(M)}),[M,N]),_((function(){C(y)}),[y,C]);var h={filesTabHeader:m.intl.formatMessage({id:"a7PP/5",defaultMessage:"Files"}),settingsTabHeader:m.intl.formatMessage({id:"NYpPqO",defaultMessage:"Settings"})},P=h.filesTabHeader,w=h.settingsTabHeader;return n.default.createElement(r.Tabs,{selectedTab:M,onSelection:function(e){C(e)}},n.default.createElement(r.Tabs.Group,null,n.default.createElement(r.Tabs.Tab,{"data-testid":f.TestTarget.FILES_TAB_HEADER,id:t.VaultTabType.FILES},P),n.default.createElement(r.Tabs.Tab,{"data-testid":f.TestTarget.SETTINGS_TAB_HEADER,id:t.VaultTabType.SETTINGS},w)),n.default.createElement(r.Tabs.Panel,{tabId:t.VaultTabType.FILES,tabIndex:0,className:"vault-tabs-panel"},n.default.createElement(l.FilesTab,{handleComponentTTI:a,shouldShowVaultEmptyState:A,user:b,path:i})),n.default.createElement(r.Tabs.Panel,{tabId:t.VaultTabType.SETTINGS,className:"vault-tabs-panel vault-settings-panel"},n.default.createElement(s.SettingsTab,{setPassword:E,setVaultOnboardingState:T,refreshVaultMetadata:c,metadata:o})))};var g={setPassword:i.setPassword,setVaultOnboardingState:i.setVaultOnboardingState,refreshVaultMetadata:i.refreshVaultMetadata};t.VaultTabs=o.connect((function(e){return{metadata:c.getMetadata(e)}}),g)(t.InternalVaultTabs)})),define("modules/clean/react/vault/components/tabs/settings_tab",["require","exports","tslib","react","modules/clean/react/vault/components/security_section","modules/clean/react/vault/components/trusted_contact_section","vault/common/constants"],(function(e,t,a,n,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.SettingsTab=function(e){var t=e.metadata,a=e.refreshVaultMetadata,s=e.setPassword,i=e.setVaultOnboardingState;return n.default.createElement("div",{"data-testid":l.TestTarget.SETTINGS_TAB},n.default.createElement(r.TrustedContactSection,null),n.default.createElement(o.SecuritySection,{setPassword:s,metadata:t,setVaultOnboardingState:i,refreshVaultMetadata:a}))}})),define("modules/clean/react/vault/components/tabs/files_tab",["require","exports","tslib","react","modules/clean/react/vault/components/primary_actions","modules/clean/react/vault/components/vault_empty_file_view","vault/common/constants"],(function(e,t,a,n,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.FilesTab=function(e){var t=e.handleComponentTTI,a=e.shouldShowVaultEmptyState,s=e.user,i=e.path;return n.default.createElement("div",{"data-testid":l.TestTarget.FILES_TAB},n.default.createElement(o.PrimaryActions,{path:i,user:s}),a&&n.default.createElement(r.VaultEmptyFileView,{handleComponentTTI:t}))}})),define("modules/clean/react/vault/components/vault_empty_file_view",["require","exports","tslib","react","react-redux","modules/clean/react/browse/data/selectors","modules/clean/react/hoc","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/components/modals/onboarding_move_modal","modules/clean/react/vault/constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/lib/use_handle_add_files","modules/clean/react/vault/logging_types","vault/common/constants","vault/components/vault-empty"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.InternalVaultEmptyFileView=function(e){var t=e.user,a=e.path,o=e.handleComponentTTI;n.useEffect((function(){o("FilesViewController")}),[o]);var r=s.useModalManager(),l=r.currentModal,c=r.setCurrentModal,_=r.closeModal,v=d.useHandleAddFiles(t,a);return n.default.createElement("div",{className:"vault-empty-file-view__container","data-testid":f.TestTarget.EMPTY_FILE_VIEW},n.default.createElement(p.EmptyVault,{onAddFiles:v,onRequestHelp:function(){u.logProductAnalyticsEvent({eventAction:m.AnalyticsEventAction.SELECT,eventObject:m.AnalyticsEventObject.SUGGESTION_PROMPT,actionSurface:m.AnalyticsEventActionSurface.VAULT_HOME}),c(s.VaultModals.OnboardingMove)}}),n.default.createElement(i.OnboardingMoveModal,{open:l===s.VaultModals.OnboardingMove,closeModal:_,user:t,path:a}))};t.VaultEmptyFileView=l.withCSS(c.VAULT_STYLESHEETS)(o.connect((function(e){return{path:r.path(e),user:r.user(e)}}))(t.InternalVaultEmptyFileView))})),define("modules/clean/react/vault/components/snackbars",["require","exports","tslib","react","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/snackbar","dig-components/typography","modules/core/i18n"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);t.SessionExpiredSnackbar=function(e){var t=e.open,a=n.useState(t),u=a[0],d=a[1],m={closeName:c.intl.formatMessage({id:"bdjwzx",defaultMessage:"close"}),title:c.intl.formatMessage({id:"vRToCl",defaultMessage:"You were automatically signed out"}),explanation:c.intl.formatMessage({id:"P6oJRK",defaultMessage:"We do this if youâ€™re inactive for 20 minutes to keep your vault extra secure."})},f=m.closeName,p=m.title,_=m.explanation,v=function(){return d(!1)};return n.default.createElement("div",{className:"vault-snackbar--expired"},n.default.createElement(s.Snackbar,{open:u,timeout:1e4,onRequestClose:v},n.default.createElement(s.Snackbar.Message,null,n.default.createElement(i.Text,{inverse:!0,tagName:"p"},p),n.default.createElement(i.Text,{inverse:!0,tagName:"p",color:"faint"},_)),n.default.createElement(s.Snackbar.Actions,null,n.default.createElement(o.IconButton,{"aria-label":f,inverse:!0,variant:"transparent",onClick:v},n.default.createElement(r.UIIcon,{src:l.CloseLine})))))}})),define("modules/clean/react/vault/components/vault_checklist",["require","exports","tslib","react","react-redux","dig-components/icons/src","dig-components/typography","modules/clean/react/vault/components/modals/add_beneficiary_modal","modules/clean/react/vault/components/modals/forgot_password_modal","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/components/modals/onboarding_move_modal","modules/clean/react/vault/components/modals/trusted_contact_invite_modal","modules/clean/react/vault/components/modals/password_modal","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/clean/react/vault/redux/actions","modules/clean/react/vault/redux/selectors","modules/core/i18n","vault/common/constants","vault/components/onboarding-item"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g,E,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onGetSuggestions=function(){f.logProductAnalyticsEvent({eventAction:p.AnalyticsEventAction.SELECT,eventObject:p.AnalyticsEventObject.DOCUMENT_CHECKLIST,actionSurface:p.AnalyticsEventActionSurface.VAULT_HOME}),t.props.showOnboardingMoveModal()},t.showAddBeneficiaryModal=function(){f.logProductAnalyticsEvent({eventAction:p.AnalyticsEventAction.SELECT,eventObject:p.AnalyticsEventObject.BENEFICIARY_CHECKLIST,actionSurface:p.AnalyticsEventActionSurface.VAULT_HOME}),t.props.showAddBeneficiaryModal()},t.onboardingItemsProps=function(){var e=t.props,a=e.metadata,n=e.onboardingState,o=S(),l=o.addFiles,s=o.addFilesLabel,i=o.addTrustedContact,c=o.addTrustedContactLabel,u=o.setPasscode,d=o.setPasscodeLabel;if(a)return[{actionLabel:u,icon:r.LockLine,label:d,onClick:t.onSetPassword,isComplete:n.hasSetPassword},{icon:r.FileLine,actionLabel:l,label:s,isComplete:n.hasReceivedSuggestions,onClick:t.onGetSuggestions},{icon:r.PersonLine,actionLabel:i,label:c,onClick:t.showAddBeneficiaryModal,isComplete:n.hasAddedBeneficiaries}]},t.onSetPassword=function(){t.props.metadata&&(f.logProductAnalyticsEvent({eventAction:p.AnalyticsEventAction.SELECT,eventObject:p.AnalyticsEventObject.PASSWORD_CHECKLIST,actionSurface:p.AnalyticsEventActionSurface.VAULT_HOME}),t.props.showPasswordModal())},t.isChecklistCompleted=function(){var e=t.onboardingItemsProps()||[],a=e.filter((function(e){return e.isComplete}));return e.length===a.length},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.refreshVaultMetadata(),this.props.refreshVaultOnboardingState()},t.prototype.renderOnboardingItems=function(){var e=this.onboardingItemsProps();if(e)return e.map((function(e){return n.default.createElement(T.OnboardingItem,a.__assign({key:e.label},e))}))},t.prototype.render=function(){var e=S().onePlace;return this.props.isOnboardingStatePending||this.isChecklistCompleted()?null:n.default.createElement("div",{className:"vault-checklist","data-testid":E.TestTarget.ONBOARDING_CHECKLIST},n.default.createElement(l.Title,{className:"vault-checklist__title",tagName:"h1",isBold:!0},e),n.default.createElement("div",{className:"vault-checklist__onboarding-items"},this.renderOnboardingItems()))},t})((n=a.__importStar(n)).default.Component);t.InternalVaultChecklist=A,t.VaultChecklistWithModals=function(e){var t=e.hasVaultContent,a=e.metadata,o=e.onboardingState,r=e.path,l=e.refreshVaultMetadata,f=e.refreshVaultOnboardingState,_=e.setVaultOnboardingState,v=e.setPassword,g=e.user,E=e.isOnboardingStatePending,T=c.useModalManager(),b=T.currentModal,S=T.setCurrentModal,M=T.closeModal,C=b===c.VaultModals.TrustedContactInvite;n.useEffect((function(){t&&_({hasReceivedSuggestions:!0})}),[_,t]);var O=function(){o.hasAddedBeneficiaries||_({hasAddedBeneficiaries:!0})},y=function(){o.hasReceivedSuggestions||_({hasReceivedSuggestions:!0})};return n.default.createElement(n.default.Fragment,null,C?n.default.createElement(d.TrustedContactInviteModal,{closeModal:function(){o.hasAddedBeneficiaries||_({hasAddedBeneficiaries:!0}),M()}}):n.default.createElement(s.AddBeneficiaryModal,{actionSurface:p.AnalyticsEventActionSurface.ONBOARDING_CHECKLIST,onConfirm:O,onCancel:O,closeModal:M,open:b===c.VaultModals.AddBeneficiary}),n.default.createElement(u.OnboardingMoveModal,{user:g,path:r,onAddFiles:y,onSkip:y,closeModal:M,open:b===c.VaultModals.OnboardingMove}),a&&b===c.VaultModals.Password&&n.default.createElement(m.PasswordModal,{closeModal:M,showForgotPasswordModal:function(){return S(c.VaultModals.ForgotPassword)},setPassword:v,setVaultOnboardingState:_,variant:a.hasPassword?m.PasswordModalVariant.UPDATE:m.PasswordModalVariant.SET,onSuccess:function(){l(),o.hasSetPassword||_({hasSetPassword:!0})}}),n.default.createElement(i.ForgotPasswordModal,{closeModal:M,open:b===c.VaultModals.ForgotPassword}),n.default.createElement(A,{metadata:a,isOnboardingStatePending:E,onboardingState:o,path:r,refreshVaultMetadata:l,refreshVaultOnboardingState:f,setPassword:v,setVaultOnboardingState:_,showAddBeneficiaryModal:function(){return S(c.VaultModals.TrustedContactInvite)},showOnboardingMoveModal:function(){return S(c.VaultModals.OnboardingMove)},showPasswordModal:function(){return S(c.VaultModals.Password)},user:g}))};var b={setPassword:_.setPassword,setVaultOnboardingState:_.setVaultOnboardingState,refreshVaultMetadata:_.refreshVaultMetadata,refreshVaultOnboardingState:_.refreshVaultOnboardingState};function S(){return{onePlace:g.intl.formatMessage({id:"4apBXb",defaultMessage:"One place for lifeâ€™s most important files"}),setPasscode:g.intl.formatMessage({id:"W26068",defaultMessage:"Set PIN"}),setPasscodeLabel:g.intl.formatMessage({id:"FFs3dJ",defaultMessage:"1. Secure it with a PIN"}),addFiles:g.intl.formatMessage({id:"rI2kiM",defaultMessage:"Select files"}),addFilesLabel:g.intl.formatMessage({id:"YZVk08",defaultMessage:"2. Select important files from your Dropbox"}),addTrustedContact:g.intl.formatMessage({id:"rqS5l+",defaultMessage:"Add trusted contact"}),addTrustedContactLabel:g.intl.formatMessage({id:"+ZexiA",defaultMessage:"3. Choose who needs access in an emergency"})}}t.VaultChecklist=o.connect((function(e){return{metadata:v.getMetadata(e),onboardingState:v.getOnboardingState(e),isOnboardingStatePending:v.getIsFirstOnboardingStatePending(e)}}),b)(t.VaultChecklistWithModals)})),define("modules/clean/react/vault/components/vault_lock_button",["require","exports","tslib","react","dig-components/buttons","dig-components/icons","dig-components/icons/src","modules/core/i18n","vault/common/constants","vault/components/lock-button-tooltip"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.VaultLockButton=function(e){var t=s.intl.formatMessage({id:"sAkbY3",defaultMessage:"lock vault"}),a=n.default.createRef();return n.default.createElement("div",{className:"vault-lock-button-container"},n.default.createElement(o.IconButton,{className:"vault-lock-button",variant:"outline",onClick:e.lock,"data-testid":i.TestTarget.LOCK_BUTTON,ref:a},n.default.createElement(r.UIIcon,{src:l.LockLine,"aria-label":t})),n.default.createElement(c.LockButtonTooltip,{triggerRef:a,open:e.showTooltip,onClose:e.onCloseTooltip}))}})),define("modules/clean/react/vault/components/modals/onboarding_move_modal",["require","exports","tslib","react","modules/clean/react/vault/lib/api","modules/clean/react/vault/lib/chooser","modules/clean/react/vault/logging_types","modules/clean/react/image","modules/clean/static_urls","vault/components/onboarding-move-modal"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(n=a.__importStar(n)).createElement(s.Image,{className:"vault-onboarding-move-modal-img",src:i.static_url("/static/images/vault/vault_safe@3x-vflbS4md-.svg")}),d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAddFiles=function(){return a.__awaiter(t,void 0,Promise,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return o.logProductAnalyticsEvent({eventAction:l.AnalyticsEventAction.SELECT,eventObject:l.AnalyticsEventObject.ADD_FILES,actionSurface:l.AnalyticsEventActionSurface.ONBOARDING_CHECKLIST}),this.props.onAddFiles&&this.props.onAddFiles(),[4,r.chooseFilesToMove(this.props.user,this.props.path)];case 1:return e.sent(),this.props.closeModal(),[2]}}))}))},t.onSkip=function(){o.logProductAnalyticsEvent({eventAction:l.AnalyticsEventAction.SELECT,eventObject:l.AnalyticsEventObject.SKIP_SUGGESTIONS,actionSurface:l.AnalyticsEventActionSurface.ONBOARDING_CHECKLIST}),t.props.onSkip&&t.props.onSkip(),t.props.closeModal()},t.onAfterOpen=function(){o.logProductAnalyticsEvent({eventAction:l.AnalyticsEventAction.SHOWN,eventObject:l.AnalyticsEventObject.ADD_FILES_POPUP,actionSurface:l.AnalyticsEventActionSurface.VAULT_HOME})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){r.initChooser()},t.prototype.render=function(){return n.createElement(c.OnboardingMoveModal,{onAddFiles:this.onAddFiles,onSkip:this.onSkip,onAfterOpen:this.onAfterOpen,open:this.props.open,image:u})},t})(n.Component);t.OnboardingMoveModal=d})),define("modules/clean/react/vault/components/modals/feedback_rating_modal",["require","exports","tslib","react","dig-components/buttons","dig-components/modal","dig-components/typography","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/core/i18n","vault/components/capture-enter","vault/components/feedback-form-rating"],(function(e,t,a,n,o,r,l,s,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(t){var a=e.call(this,t)||this;return a.handleChange=function(e){a.setState({data:e})},a.handleClose=function(){a.props.onRequestClose&&a.props.onRequestClose(),a.props.closeModal()},a.handlePrimaryAction=function(){var e=a.props.feedbackActionSurface,t=a.state.data;s.submitFeedback({action_surface:e,rating:t.rating,comments:t.comment}).finally(a.handleClose)},a.handleSecondaryAction=function(){a.handleClose()},s.logProductAnalyticsEvent({eventAction:i.AnalyticsEventAction.SHOWN,eventObject:i.AnalyticsEventObject.FEEDBACK_MODAL,actionSurface:t.analyticsActionSurface}),a}return a.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return a.__assign({data:e.data},t)},t.prototype.render=function(){var e=this.state.data,t={giveFeedback:c.intl.formatMessage({id:"mIBJW2",defaultMessage:"Give us feedback on vault"}),cancel:c.intl.formatMessage({id:"z9z6hx",defaultMessage:"Cancel"}),submit:c.intl.formatMessage({id:"NGpNOW",defaultMessage:"Submit"})},a=t.cancel,s=t.giveFeedback,i=t.submit;return n.createElement(r.Modal,{open:this.props.open},n.createElement(u.CaptureEnter,{onEnter:this.handlePrimaryAction},n.createElement(r.Modal.Header,{hasBottomSpacing:"title-standard"},n.createElement(l.Title,{tagName:"h1"},s)),n.createElement(r.Modal.Body,null,n.createElement(d.FeedbackFormRating,{data:e,onChange:this.handleChange})),n.createElement(r.Modal.Footer,null,n.createElement(o.Button,{onClick:this.handleSecondaryAction,variant:"opacity"},a),n.createElement(o.Button,{onClick:this.handlePrimaryAction,variant:"primary"},i))))},t})((n=a.__importStar(n)).Component);t.FeedbackRatingModal=m})),define("modules/clean/react/vault/components/modals/onboarding_value_prop_modal",["require","exports","tslib","react","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/clean/react/image","modules/clean/static_urls","vault/components/onboarding-value-prop-modal","modules/clean/react/vault/lib/hooks"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(n=a.__importStar(n)).useCallback;t.OnboardingValuePropModal=function(e){var t=e.onContinue,a=e.onCancel;c.useComponentDidMount((function(){o.logProductAnalyticsEvent({eventAction:r.AnalyticsEventAction.SHOWN,eventObject:r.AnalyticsEventObject.VALUE_PROP,actionSurface:r.AnalyticsEventActionSurface.BROWSE})}));var d=u((function(){o.logProductAnalyticsEvent({eventAction:r.AnalyticsEventAction.SELECT,eventObject:r.AnalyticsEventObject.VALUE_PROP_CANCEL,actionSurface:r.AnalyticsEventActionSurface.BROWSE}),a()}),[a]),m=u((function(){o.logProductAnalyticsEvent({eventAction:r.AnalyticsEventAction.SELECT,eventObject:r.AnalyticsEventObject.VALUE_PROP_CONTINUE,actionSurface:r.AnalyticsEventActionSurface.BROWSE}),t()}),[t]),f=n.createElement(l.Image,{className:"vault-onboarding-value-prop-gif",src:s.static_url("/static/images/vault/vault_desktop_share@1x-vflZEWEWZ.gif")});return n.createElement(i.OnboardingValuePropModal,{image:f,onCancel:d,onContinue:m})}})),define("modules/clean/react/vault/components/modals/forgot_password_modal",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography","modules/clean/react/snackbar","modules/clean/react/vault/experiments","modules/clean/react/vault/i18n_string_constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/clean/security/encryption_options_context","modules/clean/viewer","vault/components/password-reset"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);t.ForgotPasswordModal=function(e){var t=e.closeModal,a=e.open,o=E(),i=o.cancel,u=o.changePasscode,d=o.contactDropbox,m=o.ok;return c.useExperiment("expVaultPinRecovery")?n.default.createElement(g,{open:a,closeModal:t}):n.default.createElement(l.Modal,{className:"vault-forgot-password-modal",open:a},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{className:"vault-forgot-password-modal__title",tagName:"h1"},u)),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{tagName:"p"},d)),n.default.createElement(l.Modal.Footer,null,n.default.createElement(r.Button,{variant:"opacity",onClick:t},i),n.default.createElement(r.Button,{variant:"primary",onClick:t,autoFocus:!0},m)))};var v="VAULT_RESET_PIN_SNACKBAR",g=function(e){var t,o=e.open,r=e.closeModal,l=null!==(t=p.Viewer.get_viewer().personal_email)&&void 0!==t?t:"",s=E(),c=s.errorMessage,u=s.incorrectPassword,g=s.successMessage,T=f.useEncryptPassword();return o?n.default.createElement(_.PasswordResetEnterPassword,{closeModal:r,email:l,onClickSubmit:function(e){return a.__awaiter(void 0,void 0,void 0,(function(){var t,n,o;return a.__generator(this,(function(a){switch(a.label){case 0:d.logProductAnalyticsEvent({eventAction:m.AnalyticsEventAction.SELECT,eventObject:m.AnalyticsEventObject.SUBMIT_EMAIL_PIN_RESET,actionSurface:m.AnalyticsEventActionSurface.PIN_RESET_FLOW}),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,T(e)];case 2:return t=a.sent(),[4,d.initiatePasswordReset({encrypted_dbx_pwd:t})];case 3:return a.sent(),r(),i.Snackbar.complete(g,v),[3,5];case 4:return(function(e){var t;return null!=(null===(t=e)||void 0===t?void 0:t.initiate_password_reset_error)})(null==(n=a.sent())?void 0:n.error)&&"invalid_dbx_pwd"===(null===(o=n.error.initiate_password_reset_error)||void 0===o?void 0:o[".tag"])?(i.Snackbar.fail(u,v),[2]):(i.Snackbar.fail(c,v),[3,5]);case 5:return[2]}}))}))}}):null};function E(){var e=o.useIntl();return{errorMessage:e.formatMessage({id:"0dbiex",defaultMessage:"Something went wrong. Please try again later."}),incorrectPassword:e.formatMessage({id:"penoSl",defaultMessage:"Incorrect password, please try again."}),successMessage:e.formatMessage({id:"vault-initiate-reset-success",defaultMessage:"An email has been sent to reset your pin"}),changePasscode:e.formatMessage({id:"7q13FA",defaultMessage:"Change pin"}),contactDropbox:e.formatMessage({id:"72RSEJ",defaultMessage:"While Vault is in beta, youâ€™ll need to {ContactDropbox} to change your pin. Sorry, we know itâ€™s a pain."},{ContactDropbox:u.ContactDropboxLink(e.formatMessage({id:"x6SSY3",defaultMessage:"contact Dropbox"}))}),cancel:e.formatMessage({id:"XDzCbx",defaultMessage:"Cancel"}),ok:e.formatMessage({id:"aC25KL",defaultMessage:"OK"})}}})),define("modules/clean/react/vault/components/modals/add_beneficiary_modal",["require","exports","tslib","react","dig-components/buttons","dig-components/modal","dig-components/typography","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/core/i18n","vault/components/add-beneficiary"],(function(e,t,a,n,o,r,l,s,i,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onConfirm=function(){s.logProductAnalyticsEvent({eventAction:i.AnalyticsEventAction.SELECT,eventObject:i.AnalyticsEventObject.GIVE_ACCESS_ALERT,actionSurface:t.props.actionSurface}),t.props.onConfirm&&t.props.onConfirm(),t.props.closeModal()},t.onCancel=function(){s.logProductAnalyticsEvent({eventAction:i.AnalyticsEventAction.SELECT,eventObject:i.AnalyticsEventObject.TRUSTED_ACCESS_NO_ALERT,actionSurface:t.props.actionSurface}),t.props.onCancel&&t.props.onCancel(),t.props.closeModal()},t}return a.__extends(t,e),t.prototype.render=function(){var e={workingOnIt:c.intl.formatMessage({id:"71oXUo",defaultMessage:"Weâ€™re working on it"}),noThanks:c.intl.formatMessage({id:"gNJQyO",defaultMessage:"No thanks"}),alertMe:c.intl.formatMessage({id:"12+9PT",defaultMessage:"Alert me"})},t=e.alertMe,a=e.noThanks,s=e.workingOnIt;return n.createElement(r.Modal,{className:"add-beneficiary-modal",open:this.props.open},n.createElement(r.Modal.Header,{hasBottomSpacing:"title-standard"},n.createElement(l.Title,{className:"add-beneficiary__title",tagName:"h1"},s)),n.createElement(r.Modal.Body,null,n.createElement(u.AddBeneficiary,null)),n.createElement(r.Modal.Footer,null,n.createElement(o.Button,{className:"add-beneficiary__button add-beneficiary__skip-button",variant:"opacity",onClick:this.onCancel},a),n.createElement(o.Button,{className:"add-beneficiary__button add-beneficiary__alert-me-button",variant:"primary",onClick:this.onConfirm},t)))},t.displayName="AddBeneficiaryModal",t})((n=a.__importStar(n)).Component);t.InternalAddBeneficiaryModal=d,t.AddBeneficiaryModal=d})),define("modules/clean/react/vault/components/modals/password_modal",["require","exports","tslib","react","dig-components/buttons","dig-components/typography","modules/clean/api_v2/error","modules/clean/datetime","modules/clean/react/snackbar","modules/clean/react/vault/i18n_string_constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/core/i18n","vault/common/constants","vault/common/use-authentication-error-message","vault/common/use-countdown-effect","vault/components/password-form","vault/components/password-modal"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g){"use strict";var E;function T(e,t,a){return null!=a||(e.length!==f.PASSWORD_LENGTH||t.length!==f.PASSWORD_LENGTH)}function A(e){var t=e.showForgotPasswordModal,a=b().forgotPasscode;return n.default.createElement(o.Button,{className:"vault-password-modal__forgot-password-button",variant:"transparent",onClick:t},n.default.createElement(r.Text,{size:"small",isBold:!0},a))}function b(){return{forgotPasscode:m.intl.formatMessage({id:"j1F9Ic",defaultMessage:"Forgot PIN?"}),passcodeChanged:m.intl.formatMessage({id:"D0noCL",defaultMessage:"PIN changed."}),passcodeAdded:m.intl.formatMessage({id:"s4ib8d",defaultMessage:"PIN added."}),unableToUpdate:m.intl.formatMessage({id:"hTw//a",defaultMessage:"Couldnâ€™t update PIN, try again."}),genericErrorUpdating:m.intl.formatMessage({id:"QWvX1/",defaultMessage:"Error updating PIN. Please try again later."}),reusedPassword:m.intl.formatMessage({id:"OxPMei",defaultMessage:"New PIN canâ€™t be the same as the current PIN"})}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),(function(e){e[e.SET=0]="SET",e[e.UPDATE=1]="UPDATE"})(E=t.PasswordModalVariant||(t.PasswordModalVariant={})),t.PasswordModal=function(e){var t,o=e.closeModal,r=e.onSuccess,m=e.setPassword,S=e.setVaultOnboardingState,M=e.showForgotPasswordModal,C=e.variant,O=n.useState(!1),y=O[0],N=O[1],h=n.useState(),P=h[0],w=h[1],I=n.useState(),D=I[0],R=I[1],L=n.useState(""),k=L[0],V=L[1],U=n.useState(""),x=U[0],B=U[1],F=n.useState(0),j=F[0],H=F[1],W=b().genericErrorUpdating,G=p.useAuthenticationErrorMessage(null===(t=null==D?void 0:D.error)||void 0===t?void 0:t.set_password_error,j,s.format_time,W);_.useCountdownEffect(j,H);var q=y||j>0,K=null!=P?P:G,Y=function(){w(null),R(void 0)},z=function(){B(""),V("")},X=function(e,t){V(e),B(t);var a=b().reusedPassword;e.length===f.PASSWORD_LENGTH&&t.length===f.PASSWORD_LENGTH&&e===t?(w(a),z()):Y()},Q=function(e,t){V(e),B(t),e.length===f.PASSWORD_LENGTH&&t.length===f.PASSWORD_LENGTH&&e!==t?(w(c.PASSWORD_UNMATCHED_MESSAGE),z()):Y()},Z=function(){w(c.PASSWORD_INVALID_MESSAGE)},J=function(){u.logProductAnalyticsEvent({eventAction:d.AnalyticsEventAction.SELECT,eventObject:d.AnalyticsEventObject.FORGOT_PIN,actionSurface:d.AnalyticsEventActionSurface.LOCKED_VAULT}),M()};return n.default.createElement(g.VaultPasswordModal,{open:!0,errorMessage:K,addButtonDisabled:T(k,x,K),onClickPrimaryAction:function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e,t,n,s,c,f,p,_,v;return a.__generator(this,(function(a){switch(a.label){case 0:e=b(),t=e.passcodeChanged,n=e.passcodeAdded,s=e.unableToUpdate,N(!0),u.logProductAnalyticsEvent({eventAction:d.AnalyticsEventAction.SELECT,eventObject:d.AnalyticsEventObject.CONTINUE,actionSurface:d.AnalyticsEventActionSurface.SETUP_PASSWORD}),c=C===E.UPDATE?k:"",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,m(c,x)];case 2:return a.sent(),S({hasSetPassword:!0}),r(),i.Snackbar.complete(k?t:n),o(),[3,4];case 3:return f=a.sent(),N(!1),"invalid_credential"===(null==(p=f instanceof l.AppError&&(null===(v=f.error)||void 0===v?void 0:v.set_password_error))?void 0:p[".tag"])&&(_=p.next_attempt_ts-p.current_timestamp)>0&&H(_),R(f),z(),i.Snackbar.fail(s),[3,4];case 4:return[2]}}))}))},renderPasswordForm:function(){return C===E.UPDATE?n.default.createElement(n.default.Fragment,null,n.default.createElement(v.UpdatePasswordForm,{disabled:q,length:f.PASSWORD_LENGTH,onChange:X,onEnterInvalidValue:Z,currentPassword:k,newPassword:x}),n.default.createElement(A,{showForgotPasswordModal:J})):n.default.createElement(v.SetPasswordForm,{disabled:q,length:f.PASSWORD_LENGTH,onChange:Q,onEnterInvalidValue:Z,currentPassword:k,newPassword:x})},renderTitle:function(){return C===E.UPDATE?n.default.createElement(v.UpdatePasswordFormHeader,null):n.default.createElement(v.SetPasswordFormHeader,null)},onCancel:function(){u.logProductAnalyticsEvent({eventAction:d.AnalyticsEventAction.SELECT,eventObject:d.AnalyticsEventObject.CANCEL_PASSWORD,actionSurface:d.AnalyticsEventActionSurface.SETUP_PASSWORD}),o()}})}})),define("modules/clean/react/vault/components/modals/onboarding_password_modal",["require","exports","tslib","classnames","react","react-redux","dig-components/buttons","dig-components/modal","dig-components/progress_indicators","dig-components/typography","modules/clean/react/hoc","modules/clean/react/snackbar","modules/clean/react/vault/constants","modules/clean/react/vault/i18n_string_constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/clean/react/vault/redux/actions","modules/core/i18n","vault/common/constants","vault/components/capture-enter","vault/components/error-message","vault/components/segmented-password-input"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g,E,T,A,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var S=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={password:"",confirmPassword:"",backButtonDisabled:!1,continueButtonDisabled:!0,confirmButtonDisabled:!0,isLoadingVault:!1,skipButtonDisabled:!1,showConfirmView:!1,errorMessage:null},t.onConfirmPasswordChange=function(e){e===t.state.password?t.setState({confirmButtonDisabled:!1,confirmPassword:e,errorMessage:null}):e.length===E.PASSWORD_LENGTH?t.setState({errorMessage:f.PASSWORD_UNMATCHED_MESSAGE,confirmPassword:"",confirmButtonDisabled:!0}):t.setState({errorMessage:null,confirmPassword:e,confirmButtonDisabled:!0})},t.onPasswordChange=function(e){e.length===E.PASSWORD_LENGTH?t.setState({continueButtonDisabled:!1,password:e,errorMessage:null}):t.setState({continueButtonDisabled:!0,password:e,errorMessage:null})},t.onContinueClick=function(){t.setState({showConfirmView:!0,errorMessage:null})},t.onBackClick=function(){p.logProductAnalyticsEvent({eventAction:_.AnalyticsEventAction.SELECT,eventObject:_.AnalyticsEventObject.BACK_PASSWORD,actionSurface:_.AnalyticsEventActionSurface.SETUP_PASSWORD}),t.setState({showConfirmView:!1,confirmButtonDisabled:!0,errorMessage:null,confirmPassword:""})},t.onConfirmClick=function(){t.setupVault(t.state.password)},t.onPreviousSetupClick=function(){p.logProductAnalyticsEvent({eventAction:_.AnalyticsEventAction.SELECT,eventObject:_.AnalyticsEventObject.BACK_PASSWORD_VALUE_PROP,actionSurface:_.AnalyticsEventActionSurface.SETUP_PASSWORD}),t.props.onPreviousSetupClick()},t.setupVault=function(e){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:this.setState({skipButtonDisabled:!0,continueButtonDisabled:!0,backButtonDisabled:!0,confirmButtonDisabled:!0,isLoadingVault:!0}),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.props.setupVault({password:e})];case 2:return t.sent(),[4,this.props.onUnlock()];case 3:return t.sent(),[3,5];case 4:return t.sent(),this.setState({skipButtonDisabled:!1,continueButtonDisabled:!1,confirmButtonDisabled:!1,backButtonDisabled:!1,isLoadingVault:!1,confirmPassword:""}),d.Snackbar.fail("Error creating vault","unlock-vault-snackbar"),[3,5];case 5:return[2]}}))}))},t.renderOnboardingBody=function(){var e="onboarding",a=M().passwordLabel;return o.default.createElement(o.default.Fragment,null,o.default.createElement(c.Text,{className:"vault-onboarding-password-modal__subtitle",color:"faint",tagName:"h2"},a),o.default.createElement("div",{className:n.default("vault-onboarding-password-modal__password-input-container",e)},o.default.createElement(b.SegmentedPasswordInput,{key:e,length:E.PASSWORD_LENGTH,value:t.state.password,onChange:t.onPasswordChange,autoFocus:!t.state.password.length,onEnterInvalidValue:t.onEnterInvalidPassword,size:"large"})),t.state.errorMessage&&o.default.createElement(A.ErrorMessage,{message:t.state.errorMessage}))},t.renderOnboardingConfirmBody=function(){var e="onboarding-confirm",a=M().confirmPassword;return o.default.createElement(o.default.Fragment,null,o.default.createElement(c.Text,{className:"vault-onboarding-password-modal__subtitle",color:"faint",tagName:"h2"},a),o.default.createElement("div",{className:n.default("vault-onboarding-password-modal__password-input-container",e)},o.default.createElement(b.SegmentedPasswordInput,{key:e,length:E.PASSWORD_LENGTH,value:t.state.confirmPassword,onChange:t.onConfirmPasswordChange,autoFocus:!t.state.confirmPassword.length,onEnterInvalidValue:t.onEnterInvalidPassword,size:"large"})),t.state.errorMessage&&o.default.createElement(A.ErrorMessage,{message:t.state.errorMessage}))},t.onEnterInvalidPassword=function(){t.setState({errorMessage:f.PASSWORD_INVALID_MESSAGE,confirmPassword:""})},t.renderSpinner=function(){var e=M().creatingVault;return t.state.isLoadingVault&&o.default.createElement(i.Spinner,{className:"vault-onboarding-password-modal__spinner","aria-valuetext":e,size:"small"})},t}return a.__extends(t,e),t.prototype.render=function(){var e=M(),t=e.safetyFirst,a=e.back,n=e.continueButton,r=e.confirm;return o.default.createElement("div",{"data-testid":E.TestTarget.ONBOARDING_PASSWORD_MODAL},o.default.createElement(s.Modal,{className:"vault-onboarding-password-modal",open:!0,width:"small"},o.default.createElement(s.Modal.Header,{hasBottomSpacing:"title-standard"},o.default.createElement(c.Title,{className:"vault-onboarding-password-modal__title",tagName:"h1"},t)),this.state.showConfirmView?o.default.createElement(T.CaptureEnter,{disabled:this.state.confirmButtonDisabled,onEnter:this.onConfirmClick},o.default.createElement(s.Modal.Body,null," ",this.renderOnboardingConfirmBody()),o.default.createElement(s.Modal.Footer,null,o.default.createElement(l.Button,{className:"vault-onboarding-password-modal__back-button",onClick:this.onBackClick,disabled:this.state.backButtonDisabled,variant:"opacity"},a),o.default.createElement(l.Button,{className:"vault-onboarding-password-modal__confirm-button","data-testid":E.TestTarget.CONTINUE_BUTTON,onClick:this.onConfirmClick,disabled:this.state.confirmButtonDisabled,variant:"primary"},r,this.renderSpinner()))):o.default.createElement(T.CaptureEnter,{disabled:this.state.continueButtonDisabled,onEnter:this.onContinueClick},o.default.createElement(s.Modal.Body,null,this.renderOnboardingBody()),o.default.createElement(s.Modal.Footer,null,o.default.createElement(l.Button,{className:"vault-onboarding-password-modal__back-button","data-testid":E.TestTarget.BACK_BUTTON,onClick:this.onPreviousSetupClick,disabled:this.state.skipButtonDisabled,variant:"opacity"},a,this.renderSpinner()),o.default.createElement(l.Button,{className:"vault-onboarding-password-modal__continue-button","data-testid":E.TestTarget.CONTINUE_BUTTON,onClick:this.onContinueClick,disabled:this.state.continueButtonDisabled,variant:"primary"},n)))))},t.displayName="OnboardingView",t})((o=a.__importDefault(o)).default.Component);function M(){return{passwordLabel:g.intl.formatMessage({id:"yU2+pO",defaultMessage:"Before exploring your vault, set a 6-digit PIN that youâ€™ll use to unlock it on all your devices."}),confirmPassword:g.intl.formatMessage({id:"CmrcTZ",defaultMessage:"Type your PIN one more time to confirm it"}),safetyFirst:g.intl.formatMessage({id:"TP7QkX",defaultMessage:"Safety first"}),back:g.intl.formatMessage({id:"KFiHal",defaultMessage:"Back"}),confirm:g.intl.formatMessage({id:"kJiI8/",defaultMessage:"Set PIN"}),continueButton:g.intl.formatMessage({id:"A2GLPr",defaultMessage:"Continue"}),creatingVault:g.intl.formatMessage({id:"2Bnw5/",defaultMessage:"Creating vault"})}}t.UnconnectedOnboardingPasswordModal=S,t.OnboardingPasswordModal=u.withCSS(m.VAULT_STYLESHEETS)(r.connect(null,{setupVault:v.setupVault,unlock:v.unlock})(S))})),define("modules/clean/react/vault/components/modals/trusted_contact_invite_modal",["require","exports","tslib","graphql/client/components/vault-gql","react","modules/clean/react/snackbar","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/clean/validators/email_validator","modules/core/i18n","vault/common/constants","vault/components/trusted-contact-invite-modal/index"],(function(e,t,a,n,o,r,l,s,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importStar(o),i=a.__importDefault(i);t.TrustedContactInviteModal=function(e){var s=e.closeModal,m=o.useState(""),f=m[0],p=m[1],_=o.useState(!1),v=_[0],g=_[1],E=o.useState(),T=E[0],A=E[1],b=o.useState(""),S=b[0],M=b[1],C=n.useVaultBenefactorInviteMutation()[0],O={emailApiError:c.intl.formatMessage({id:"vTrAuv",defaultMessage:"Something went wrong, try again."}),getInviteSuccess:function(e){return c.intl.formatMessage({id:"vault-trusted-contact-invite-success-toast",defaultMessage:"Invite sent to {email}."},{email:e})},teamUserWarning:c.intl.formatMessage({id:"YigIZ0",defaultMessage:"Trusted contact is a team user, their admin could access your files. <a>Learn more</a>"},{a:function(e){return o.default.createElement("a",{href:u.LEARN_MORE_LINK.VAULT_OWNER_ADD_TRUSTED_CONTACT,target:"_blank",rel:"noreferrer"},e)}})},y=O.emailApiError,N=O.getInviteSuccess,h=O.teamUserWarning,P=0===S.length,w=v||0===f.length,I=!P&&!w;return o.default.createElement(d.TrustedContactInviteModal,{onMessageChange:M,onEmailChange:function(e){g(!1),A(void 0),p(e)},onEmailBlur:function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e,t;return a.__generator(this,(function(a){switch(a.label){case 0:if(e=!i.default.validate(f).every((function(e){return e.valid})),g(e),e)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,l.benefactorValidateInvite({emails:[f]})];case 2:return t=a.sent().validated_invites,(null==t?void 0:t[0].is_team_user)&&A(h),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}))},onCancel:function(){t.loggingFunctions.logInviteModalCancel(),s()},onLearnMoreClick:function(){t.loggingFunctions.logLearnMoreClicked()},onSend:function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e,n,o;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,C({variables:{args:{invites:[{email:f,message:S}]}}})];case 1:if(e=a.sent(),"VaultBenefactorInviteResult"===(null===(o=null===(n=e.data)||void 0===n?void 0:n.vaultBenefactorInvite)||void 0===o?void 0:o.__typename))return t.loggingFunctions.logInviteModalSend(),s(),r.Snackbar.complete(N(f),"VAULT_INVITE_MODAL_SNACKBAR"),[2];throw new Error("An error occured calling benefactor/invite");case 2:return a.sent(),A(y),[3,3];case 3:return[2]}}))}))},formError:T,message:S,email:f,isEmailInvalid:v,isFormValid:I,open:!0})},t.loggingFunctions={logInviteModalSend:function(){return l.logProductAnalyticsEvent({eventAction:s.AnalyticsEventAction.SELECT,eventObject:s.AnalyticsEventObject.SEND_CONTACT,actionSurface:s.AnalyticsEventActionSurface.VAULT_SETTINGS})},logInviteModalCancel:function(){return l.logProductAnalyticsEvent({eventAction:s.AnalyticsEventAction.SELECT,eventObject:s.AnalyticsEventObject.CANCEL_CONTACT,actionSurface:s.AnalyticsEventActionSurface.VAULT_SETTINGS})},logLearnMoreClicked:function(){return l.logProductAnalyticsEvent({eventAction:s.AnalyticsEventAction.SELECT,eventObject:s.AnalyticsEventObject.LEARN_ABOUT_CONTACTS,actionSurface:s.AnalyticsEventActionSurface.VAULT_SETTINGS})}}})),define("modules/clean/react/vault/components/modals/modal_manager",["require","exports","react"],(function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.AbortSetup=0]="AbortSetup",e[e.AddBeneficiary=1]="AddBeneficiary",e[e.FeedbackRating=2]="FeedbackRating",e[e.FeedbackSeanEllis=3]="FeedbackSeanEllis",e[e.Flatten=4]="Flatten",e[e.ForgotPassword=5]="ForgotPassword",e[e.None=6]="None",e[e.OnboardingMove=7]="OnboardingMove",e[e.Password=8]="Password",e[e.SetupPassword=9]="SetupPassword",e[e.TrustedContactCancel=10]="TrustedContactCancel",e[e.TrustedContactInvite=11]="TrustedContactInvite",e[e.TrustedContactReminder=12]="TrustedContactReminder",e[e.TrustedContactResign=13]="TrustedContactResign",e[e.TrustedContactRevoke=14]="TrustedContactRevoke",e[e.ValueProp=15]="ValueProp"})(n=t.VaultModals||(t.VaultModals={})),t.useModalManager=function(e){void 0===e&&(e=n.None);var t=a.useState(e),o=t[0],r=t[1],l=a.useCallback((function(){return r(n.None)}),[]);return{currentModal:o,setCurrentModal:r,closeModal:l}}})),define("modules/clean/react/vault/components/primary_actions",["require","exports","tslib","react","modules/clean/react/vault/lib/use_handle_add_files","vault/components/add-content-menu"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.PrimaryActions=function(e){var t=e.user,a=e.path,l=o.useHandleAddFiles(t,a);return n.default.createElement("div",{className:"vault-primary-actions"},n.default.createElement(r.AddContentMenu,{onAddFiles:l}))}})),define("modules/clean/react/vault/components/vault_setup_modal_root",["require","exports","tslib","react","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/components/modals/onboarding_password_modal","modules/clean/react/vault/components/modals/onboarding_value_prop_modal","modules/clean/react/vault/lib/api","modules/clean/react/vault/lib/urls","modules/clean/react/vault/logging_types","modules/core/exception","vault/components/reactivation-modal"],(function(e,t,a,n,o,r,l,s,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.VaultSetupModal=function(e){var t=e.onComplete,c=e.shouldShowOnboarding,p=o.useModalManager((function(){return c?o.VaultModals.ValueProp:o.VaultModals.None})),_=p.currentModal,v=p.setCurrentModal,g=p.closeModal;n.useEffect((function(){_===o.VaultModals.AbortSetup&&f()}),[_]);var E=n.useCallback((function(){v(o.VaultModals.SetupPassword)}),[v]),T=n.useCallback((function(){v(o.VaultModals.AbortSetup)}),[v]),A=n.useCallback((function(){v(o.VaultModals.ValueProp)}),[v]),b=n.useCallback((function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Promise.all([m(),s.initiateAddFilesReminder()])];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),u.reportException({err:e,severity:"critical"}),[3,3];case 3:return i.cancelOnboarding(),[2]}}))}))}),[]);switch(_){case o.VaultModals.ValueProp:return n.default.createElement(l.OnboardingValuePropModal,{onContinue:E,onCancel:T});case o.VaultModals.SetupPassword:return n.default.createElement(r.OnboardingPasswordModal,{onPreviousSetupClick:A,onUnlock:function(){g(),t()}});case o.VaultModals.AbortSetup:return n.default.createElement(d.ReactivationModal,{onConfirm:b,onClose:i.cancelOnboarding});default:return null}};var m=function(){s.logProductAnalyticsEvent({actionSurface:c.AnalyticsEventActionSurface.VAULT_HOME,eventAction:c.AnalyticsEventAction.SELECT,eventObject:c.AnalyticsEventObject["7DAY_SET_REMINDER"]})},f=function(){s.logProductAnalyticsEvent({actionSurface:c.AnalyticsEventActionSurface.VAULT_HOME,eventAction:c.AnalyticsEventAction.SHOWN,eventObject:c.AnalyticsEventObject.REMINDER})}})),define("modules/clean/react/vault/components/unlock_view",["require","exports","tslib","react","react-redux","dig-components/buttons","dig-components/typography","modules/clean/datetime","modules/clean/react/hoc","modules/clean/react/vault/components/modals/forgot_password_modal","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/lib/hooks","modules/clean/react/vault/lib/urls","modules/clean/react/vault/logging_types","modules/clean/react/vault/redux/actions","modules/core/i18n","vault/common/constants","vault/common/unlock-manager","vault/components/error-message","vault/components/flatten-modal","vault/components/segmented-password-input"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g,E,T,A,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.UnconnectedUnlockView=function(e){var t=e.unlock,o=e.onUnlock,i=e.flatten,d=e.hasPassword,m=e.upgrade,_=n.useCallback((function(){M(),o()}),[o]),v=T.useUnlockManager(t,_,s.format_time),C=v.cooldown,O=v.errorMessage,y=v.isUnlockPending,N=v.value,h=v.setValue,P=v.needFlattening,w=v.lastAttemptedPassword,I=u.useModalManager(),D=I.currentModal,R=I.setCurrentModal,L={title:g.intl.formatMessage({id:"0fk6SV",defaultMessage:"Vault"}),bodySubtitle:g.intl.formatMessage({id:"v22uDz",defaultMessage:"Enter PIN to unlock"}),inputLabel:g.intl.formatMessage({id:"ccV4fB",defaultMessage:"PIN"}),forgotPasscode:g.intl.formatMessage({id:"/Ae1Vt",defaultMessage:"Forgot PIN?"}),open:g.intl.formatMessage({id:"UQBfa8",defaultMessage:"Open"})},k=L.open,V=L.title,U=L.bodySubtitle,x=L.inputLabel,B=L.forgotPasscode,F=f.useHashParam("reset_password",""),j=F[0],H=F[1];P&&D!==u.VaultModals.Flatten&&R(u.VaultModals.Flatten);var W=n.useCallback((function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,i(w)];case 1:return e.sent(),p.onFlatten(),[2]}}))}))}),[i,w]);return n.default.createElement("div",{className:"vault-unlock-view","data-testid":E.TestTarget.UNLOCK_VIEW},n.default.createElement("div",{className:"vault-unlock-view__header"},n.default.createElement(l.Title,{className:"vault-unlock-view__title",isBold:!0,tagName:"h1"},V),d&&n.default.createElement(l.Text,{className:"vault-unlock-view__subtitle",tagName:"h2",color:"faint",size:"large"},U)),n.default.createElement("div",{className:"vault-unlock-view__password-input-container"},d?n.default.createElement(S.SegmentedPasswordInput,{"aria-label":x,value:N,length:E.PASSWORD_LENGTH,onChange:h,autoFocus:!N.length,size:"large",disabled:C>0||y}):n.default.createElement(r.Button,{className:"vault-unlock-view__enter-button",onClick:function(){t("").then(o)},variant:"primary",size:"large","data-testid":E.TestTarget.UNLOCK_BUTTON},n.default.createElement(l.Text,{className:"vault-unlock-view__enter-button__label",size:"large",inverse:!0,isBold:!0},k))),O&&n.default.createElement(A.ErrorMessage,{message:O}),n.default.createElement(r.Button,{className:"vault-unlock-view__footer-link",variant:"transparent",onClick:function(){H("true")}},B),n.default.createElement(c.ForgotPasswordModal,{open:Boolean(j),closeModal:function(){return H("")}}),D===u.VaultModals.Flatten&&n.default.createElement(b.FlattenModal,{onFlatten:W,onUpgrade:m}))},t.UnlockView=i.withCSS(d.VAULT_STYLESHEETS)(o.connect(null,{unlock:v.unlock,flatten:v.flatten,upgrade:v.upgrade})(t.UnconnectedUnlockView));var M=function(){return m.logProductAnalyticsEvent({eventAction:_.AnalyticsEventAction.SELECT,eventObject:_.AnalyticsEventObject.VAULT_OPEN,actionSurface:_.AnalyticsEventActionSurface.LOCKED_VAULT})}})),define("modules/clean/react/vault/components/vault_account_section",["require","exports","tslib","react","modules/core/browser","modules/clean/react/vault/provider","vault/components/trusted-contact-duty-table/index","vault/components/trusted-contact-table-error/index","modules/clean/react/vault/lib/api","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/components/modals/trusted_contact_resign_modal","modules/clean/react/vault/logging_types","graphql/client/components/vault-gql","modules/clean/react/css","modules/core/i18n","vault/common/constants","modules/clean/react/vault/experiments","vault/common/serializers"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),o=a.__importStar(o),t.InternalVaultAccountSection=function(){var e,a,r=v.useExperiment("expVaultTrustedContactGA"),i=m.useVaultBeneficiaryListBenefactorsQuery(),d=i.data,f=i.loading,E=i.error,T=i.refetch,A=c.useModalManager(),b=A.currentModal,S=A.setCurrentModal,M=A.closeModal,C=n.useState(),O=C[0],y=C[1],N={trustedContactDutiesHeading:p.intl.formatMessage({id:"xzFkmk",defaultMessage:"People who made you a trusted contact"}),trustedContactDutiesSubtitle:p.intl.formatMessage({id:"mTAkPe",defaultMessage:"These people gave you access to their files in Dropbox Vault.  The owner will be notified if you download.  <a>About trusted contacts</a>"},{a:function(e){return n.default.createElement("a",{href:_.LEARN_MORE_LINK.ABOUT_TRUSTED_CONTACT,rel:"noopener noreferrer"},e)}})},h=N.trustedContactDutiesHeading,P=N.trustedContactDutiesSubtitle;if(f)return null;E||!(null==d?void 0:d.vaultBenefactors)||"VaultBeneficiaryListBenefactorsResult"!==d.vaultBenefactors.__typename?(e=!0,a=[]):(e=!1,a=g.transformBenefactorsToPclFormat(d.vaultBenefactors));return e||a.length?n.default.createElement("div",{className:"account-page-block account-page-block--no-border","data-testid":_.TestTarget.TRUSTED_CONTACT_ACCOUNT_SECTION},n.default.createElement("span",{className:"account-page-block__heading"},h),n.default.createElement("p",{className:"account-page-block__subtext"},P),e?n.default.createElement(s.TrustedContactTableError,{onAction:function(){return o.reload()}}):n.default.createElement(l.TrustedContactDutyTable,{contacts:a,renderOptions:function(e){var a=e.actionUrl;return n.default.createElement(l.TrustedContactDutyRowOptions,{contact:e,onAccept:function(){return o.redirect(a)},onRemove:r?function(){y(e),S(c.VaultModals.TrustedContactResign)}:void 0,logDownloadClick:t.loggingFunctions.logDownloadClick})}}),O&&b===c.VaultModals.TrustedContactResign&&n.default.createElement(u.TrustedContactResignModal,{closeModal:function(e){e&&T(),y(void 0),M()},contact:O})):null},t.VaultAccountSection=function(e){var a=e.userId,o=e.expVaultTrustedContactGA;return n.default.createElement(r.VaultProvider,{userId:a,experiments:{expVaultTrustedContactGA:o}},n.default.createElement(t.InternalVaultAccountSection,null))},t.StyledVaultAccountSection=f.requireCssWithComponent(t.VaultAccountSection,["/static/js/vault/index.web-vflrm6mEG.css"]),t.loggingFunctions={logDownloadClick:function(){return i.logProductAnalyticsEvent({eventAction:d.AnalyticsEventAction.SELECT,eventObject:d.AnalyticsEventObject.DOWNLOAD_VAULT_FILES,actionSurface:d.AnalyticsEventActionSurface.DEFAULT_APPS})}}})),define("modules/clean/react/vault/components/vault_header",["require","exports","tslib","react","react","dig-components/buttons","modules/clean/react/files_view/beta_tag","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/core/i18n","vault/common/constants","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/components/modals/feedback_rating_modal"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.VaultHeader=function(){var e=d.useModalManager(),t=e.currentModal,a=e.setCurrentModal,f=e.closeModal,p={ratingPrompt:c.intl.formatMessage({id:"ZLKBSb",defaultMessage:"How satisfied are you with vault?"}),commentPrompt:c.intl.formatMessage({id:"UNswSG",defaultMessage:"Tell us what you liked and didnâ€™t like about vault"}),giveFeedback:c.intl.formatMessage({id:"18+52+",defaultMessage:"Give feedback"})},_=p.giveFeedback,v=p.ratingPrompt,g=p.commentPrompt,E=o.useCallback((function(){a(d.VaultModals.FeedbackRating),s.logProductAnalyticsEvent({eventAction:i.AnalyticsEventAction.SELECT,eventObject:i.AnalyticsEventObject.GIVE_FEEDBACK,actionSurface:i.AnalyticsEventActionSurface.VAULT_HOME})}),[a]);return n.default.createElement("div",{className:"vault-header","data-testid":u.TestTarget.HEADER},n.default.createElement("sup",{className:"vault-header_beta-tag-container"},n.default.createElement(l.BetaTag,null)),n.default.createElement(m.FeedbackRatingModal,{open:t===d.VaultModals.FeedbackRating,closeModal:f,analyticsActionSurface:i.AnalyticsEventActionSurface.VAULT_HOME,feedbackActionSurface:i.FeedbackActionSurface.FEATURE_FEEDBACK_MODAL,data:{ratingPrompt:v,commentPrompt:g,comment:""}}),n.default.createElement(r.Button,{onClick:E,variant:"opacity"},_))}})),define("modules/clean/react/vault/components/vault_content",["require","exports","tslib","react","modules/clean/react/vault/components/vault_checklist","modules/clean/react/vault/components/tabs/vault_tabs"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.VaultContent=function(e){var t=e.handleComponentTTI,a=e.shouldShowVaultEmptyState,l=e.user,s=e.path,i=e.setHideFilesAndSidebar;return n.default.createElement("div",{className:"vault-content-container"},n.default.createElement(o.VaultChecklist,{path:s,user:l,hasVaultContent:!a}),n.default.createElement(r.VaultTabs,{handleComponentTTI:t,shouldShowVaultEmptyState:a,user:l,path:s,setHideFilesAndSidebar:i}))}})),define("modules/clean/react/vault/components/security_section",["require","exports","tslib","react","modules/clean/react/vault/components/modals/forgot_password_modal","modules/clean/react/vault/components/modals/modal_manager","modules/clean/react/vault/components/modals/password_modal","modules/clean/react/vault/constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/core/i18n","vault/common/constants","vault/components/security-row-item/index","vault/components/settings-section-header/index"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.SecuritySection=function(e){var t=e.metadata,a=e.refreshVaultMetadata,p=e.setPassword,_=e.setVaultOnboardingState,v=r.useModalManager(),g=v.currentModal,E=v.setCurrentModal,T=v.closeModal,A={securitySectionTitle:u.intl.formatMessage({id:"VxPVhW",defaultMessage:"Secure from everyone else"}),securitySectionSubtitle:u.intl.formatMessage({id:"VzxkTo",defaultMessage:"Get maximum security for your valuable files."}),pinSectiontitle:u.intl.formatMessage({id:"HEuMg1",defaultMessage:"PIN protection"}),pinSectionSubtitle:u.intl.formatMessage({id:"1LPmMh",defaultMessage:"Set a 6-digit code to protect your vault on all devices."}),pinSectionActionTitle:u.intl.formatMessage({id:"mzikUe",defaultMessage:"Change"}),checkupSectionTitle:u.intl.formatMessage({id:"J2oXAz",defaultMessage:"Security checkup"}),checkupSectionSubtitle:u.intl.formatMessage({id:"CiHyv+",defaultMessage:"Ensure your Dropbox security settings are up-to-date."}),checkupSectionActionTitle:u.intl.formatMessage({id:"beDtWv",defaultMessage:"Start"})},b=A.securitySectionTitle,S=A.securitySectionSubtitle,M=A.pinSectiontitle,C=A.pinSectionSubtitle,O=A.pinSectionActionTitle,y=A.checkupSectionTitle,N=A.checkupSectionSubtitle,h=A.checkupSectionActionTitle;return n.default.createElement("div",{"data-testid":d.TestTarget.SECURITY_SECTION},n.default.createElement(f.SettingsSectionHeader,{title:b,subtitle:S}),n.default.createElement(m.SecurityRowItem,{title:M,subtitle:C,actionTitle:O,onActionClick:function(){i.logProductAnalyticsEvent({eventAction:c.AnalyticsEventAction.SELECT,eventObject:c.AnalyticsEventObject.SET_PASSWORD_SETTINGS,actionSurface:c.AnalyticsEventActionSurface.VAULT_HOME}),t&&E(r.VaultModals.Password)}}),n.default.createElement(m.SecurityRowItem,{title:y,subtitle:N,actionTitle:h,onActionClick:function(){window.open(s.SECURITY_CHECKUP_RELATIVE_URL)}}),t&&g===r.VaultModals.Password&&n.default.createElement(l.PasswordModal,{closeModal:T,showForgotPasswordModal:function(){return E(r.VaultModals.ForgotPassword)},setPassword:p,setVaultOnboardingState:_,variant:t.hasPassword?l.PasswordModalVariant.UPDATE:l.PasswordModalVariant.SET,onSuccess:a}),n.default.createElement(o.ForgotPasswordModal,{closeModal:T,open:g===r.VaultModals.ForgotPassword}))}})),define("modules/clean/react/vault/components/trusted_contact_section",["require","exports","tslib","react","vault/components/settings-section-header/index","vault/components/trusted-contact-table/index","modules/clean/react/vault/components/modals/modal_manager","modules/core/browser","modules/clean/react/vault/components/modals/trusted_contact_invite_modal","modules/clean/react/vault/components/modals/trusted_contact_cancel_modal","modules/clean/react/vault/components/modals/trusted_contact_revoke_modal","modules/clean/react/vault/components/modals/trusted_contact_reminder_modal","modules/core/i18n","dig-components/buttons","vault/common/constants","modules/clean/react/vault/lib/api","modules/clean/react/vault/logging_types","modules/clean/react/vault/experiments","graphql/client/components/vault-gql","vault/common/serializers","vault/components/trusted-contact-table-error/index"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_,v,g,E,T,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importStar(s);t.TrustedContactSection=function(){var e,a=g.useExperiment("expVaultTrustedContactGA"),_=E.useVaultBenefactorListTrustedContactsQuery({skip:!a}),v=_.data,b=_.error,S=_.refetch,M=_.loading,C={trustedContactHeaderTitle:m.intl.formatMessage({id:"vault-trusted-contact-header-title",defaultMessage:"Access for trusted contacts"}),trustedContactHeaderSubtitle:m.intl.formatMessage({id:"vault-trusted-contact-header-subtitle",defaultMessage:"Grant emergency access to a trusted family member or friend. <a>Learn more</a>"},{a:function(e){return n.default.createElement("a",{href:p.LEARN_MORE_LINK.VAULT_OWNER_ADD_TRUSTED_CONTACT,target:"_blank",rel:"noreferrer"},e)}}),inviteButtonText:m.intl.formatMessage({id:"vault-trusted-contact-invite-button",defaultMessage:"Invite contact"})},O=C.trustedContactHeaderSubtitle,y=C.trustedContactHeaderTitle,N=C.inviteButtonText,h=l.useModalManager(),P=h.currentModal,w=h.setCurrentModal,I=h.closeModal,D=n.useState(),R=D[0],L=D[1];e=b||!(null==v?void 0:v.vaultTrustedContacts)||"VaultBenefactorListTrustedContactsResult"!==v.vaultTrustedContacts.__typename?[]:T.transformTrustedContactsToPclFormat(v.vaultTrustedContacts);var k=function(){t.loggingFunctions.logOpenInviteModal(e),w(l.VaultModals.TrustedContactInvite)},V=function(){a&&P!==l.VaultModals.TrustedContactReminder&&S(),L(void 0),I()},U=a&&!!e.length,x=!a||!M&&!e.length;return n.default.createElement("div",{className:"vault-trusted-contact-section","data-testid":p.TestTarget.TRUSTED_CONTACT_SECTION},n.default.createElement(o.SettingsSectionHeader,{title:y,subtitle:O,className:"vault-trusted-contact-trusted-contact-header"}),U&&n.default.createElement(r.TrustedContactTable,{maxContacts:5,onAddContact:k,contacts:e,renderDropdown:function(e){if(!e.hasDropboxAccount)return null;return n.default.createElement(r.TrustedContactRowMenu,{contact:e,onSendReminder:function(){L(e),w(l.VaultModals.TrustedContactReminder)},onCancelInvite:function(){L(e),w(l.VaultModals.TrustedContactCancel)},onRemove:function(){L(e),t.loggingFunctions.logOpenRevokeContextMenu(),w(l.VaultModals.TrustedContactRevoke)}})}}),b&&n.default.createElement(A.TrustedContactTableError,{onAction:function(){return s.reload()}}),x&&n.default.createElement(f.Button,{variant:"primary",className:"vault-trusted-contact-table-action-button",onClick:k,"data-testid":p.TestTarget.TRUSTED_CONTACT_SECTION_INVITE},N),P===l.VaultModals.TrustedContactInvite&&n.default.createElement(i.TrustedContactInviteModal,{closeModal:V}),R&&P===l.VaultModals.TrustedContactCancel&&n.default.createElement(c.TrustedContactCancelModal,{contact:R,closeModal:V}),R&&P===l.VaultModals.TrustedContactReminder&&n.default.createElement(d.TrustedContactReminderModal,{contact:R,closeModal:V}),R&&P===l.VaultModals.TrustedContactRevoke&&n.default.createElement(u.TrustedContactRevokeModal,{contact:R,closeModal:V}))},t.loggingFunctions={logOpenInviteModal:function(e){return _.logProductAnalyticsEvent({eventAction:v.AnalyticsEventAction.SELECT,eventObject:e.length?v.AnalyticsEventObject.ADD_ANOTHER_CONTACT:v.AnalyticsEventObject.INVITE_CONTACT,actionSurface:v.AnalyticsEventActionSurface.VAULT_SETTINGS})},logOpenRevokeContextMenu:function(){return _.logProductAnalyticsEvent({eventAction:v.AnalyticsEventAction.SELECT,eventObject:v.AnalyticsEventObject.REMOVE_CONTACT_CONTEXT,actionSurface:v.AnalyticsEventActionSurface.VAULT_SETTINGS})}}})),define("modules/clean/react/vault/experiments",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.defaultExperimentValues={expVaultPinRecovery:!1,expVaultTrustedContactGA:!1,expTestOnly:!1},t.ExperimentContext=n.default.createContext(void 0),t.ExperimentContextProvider=function(e){var a=e.children,o=e.experiments;return n.default.createElement(t.ExperimentContext.Provider,{value:o},a)},t.shouldThrow=function(){return!1},t.useExperiment=function(e){var a=n.useContext(t.ExperimentContext);if(!a){if(t.shouldThrow())throw new Error("Missing vault ExperimentContextProvider");return t.defaultExperimentValues[e]}var o=a[e];if(null==o){if(t.shouldThrow())throw new Error("Undefined vault experiment "+e);return t.defaultExperimentValues[e]}return!0===o}})),define("modules/clean/react/vault/lib/urls",["require","exports","tslib","modules/clean/react/vault/constants","modules/clean/react/vault/lib/utils","modules/clean/viewer","modules/core/uri","modules/core/browser"],(function(e,t,a,n,o,r,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s);var i="/home/"+n.VAULT_NAME;function c(e){void 0===e&&(e={});var t=l.URI.parse(n.VAULT_URL);return t.updateQuery({role:"personal"}),e.locked&&t.updateQuery({locked:"1"}),e.expired&&t.updateQuery({expired:"1"}),e.contUrl&&t.updateQuery({contUrl:e.contUrl}),t.toString()}function u(){var e=r.Viewer.get_viewer();return null===o.getActiveUser()?i:e.is_paired?"/personal/"+n.VAULT_NAME:i}t.unlockPageUrl=c,t.vaultFolderUrl=u,t.onUnlockVault=function(e){s.redirect(null!=e?e:u())},t.onFlatten=function(){s.redirect(u())},t.cancelOnboarding=function(){s.redirect("/home")},t.redirectOnLockExpiration=function(){s.redirect(c({expired:!0,contUrl:s.get_href()}))},t.redirectOnLock=function(){s.redirect(c({locked:!0}))}})),define("modules/clean/react/vault/lib/utils",["require","exports"],(function(e,t){"use strict";function a(){return window.ensemble?window.ensemble.viewer.getActiveUser():null}Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveUser=a,t.getActiveUserId=function(){var e=a();if(!e)throw new Error("activeUserId must be defined");return e.userId},t.assertNever=function(e,t){throw new Error(t)}})),define("modules/clean/react/vault/lib/user_metadata",["require","exports","tslib","modules/clean/react/user_metadata/api","modules/clean/react/vault/lib/utils"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVaultOnboardingState=function(){return a.__awaiter(this,void 0,Promise,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return[4,n.getUserMetadata(["VAULT_ONBOARDING_HAS_SET_PASSWORD","VAULT_ONBOARDING_HAS_RECEIVED_SUGGESTIONS","VAULT_ONBOARDING_HAS_ADDED_BENEFICIARIES"],o.getActiveUserId())];case 1:return e=t.sent(),[2,{hasSetPassword:Boolean(e.VAULT_ONBOARDING_HAS_SET_PASSWORD),hasReceivedSuggestions:Boolean(e.VAULT_ONBOARDING_HAS_RECEIVED_SUGGESTIONS),hasAddedBeneficiaries:Boolean(e.VAULT_ONBOARDING_HAS_ADDED_BENEFICIARIES)}]}}))}))},t.setVaultOnboardingState=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,n.setUserMetadata({VAULT_ONBOARDING_HAS_SET_PASSWORD:e.hasSetPassword,VAULT_ONBOARDING_HAS_RECEIVED_SUGGESTIONS:e.hasReceivedSuggestions,VAULT_ONBOARDING_HAS_ADDED_BENEFICIARIES:e.hasAddedBeneficiaries},o.getActiveUserId())];case 1:return[2,t.sent()]}}))}))}})),define("modules/clean/react/vault/lib/api",["require","exports","tslib","modules/clean/api_v2/user_client","modules/clean/react/vault/lib/utils"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadata=function(e){return(new n.UserApiV2Client).ns("vault").rpc("get_metadata",{},{subjectUserId:e})},t.lock=function(e){return(new n.UserApiV2Client).ns("vault").rpc("lock",{},{subjectUserId:e})},t.unlock=function(e,t){var a={password:t};return(new n.UserApiV2Client).ns("vault").rpc("unlock",a,{subjectUserId:e})},t.flatten=function(e,t){var a={password:t};return(new n.UserApiV2Client).ns("vault").rpc("flatten",a,{subjectUserId:e})},t.setPassword=function(e,t,a){var o={current_password:t,new_password:a};return(new n.UserApiV2Client).ns("vault").rpc("set_password",o,{subjectUserId:e})},t.create=function(e){return(new n.UserApiV2Client).ns("vault").rpc("create",{},{subjectUserId:e})},t.logProductAnalyticsEvent=function(e){return a.__awaiter(this,void 0,Promise,(function(){var t;return a.__generator(this,(function(a){return t={events:[{event_action:e.eventAction,event_object:e.eventObject,action_surface:e.actionSurface,extra:JSON.stringify(e.extra||{})}]},[2,(new n.UserApiV2Client).ns("vault").rpc("log_product_analytics_event",t,{subjectUserId:o.getActiveUserId()})]}))}))},t.submitFeedback=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2,(new n.UserApiV2Client).ns("vault").rpc("submit_feedback",e,{subjectUserId:o.getActiveUserId()})]}))}))},t.initiateAddFilesReminder=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return[2,(new n.UserApiV2Client).ns("vault").rpc("initiate_add_files_reminder",void 0,{subjectUserId:o.getActiveUserId()})]}))}))},t.initiatePasswordReset=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2,(new n.UserApiV2Client).ns("vault").rpc("initiate_password_reset",e,{subjectUserId:o.getActiveUserId()})]}))}))},t.performPasswordReset=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2,(new n.UserApiV2Client).ns("vault").rpc("perform_password_reset",e,{subjectUserId:o.getActiveUserId()})]}))}))},t.benefactorValidateInvite=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2,(new n.UserApiV2Client).ns("vault").rpc("benefactor/validate_invite",e,{subjectUserId:o.getActiveUserId()})]}))}))}})),define("modules/clean/react/vault/lib/chooser",["require","exports","dropins_sdk_refactor/dropins_sdk_internal","modules/clean/react/fileops_actions","modules/clean/react/snackbar","modules/core/i18n"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=["id","name","isDir","bytes","accountId"],s=!1;t.initChooser=function(){s||(a.Dropbox.init({appKey:"dropbox"}),s=!0)},t.chooseFilesToMove=function(e,t){var s=r.intl.formatMessage({id:"JOp+zI",defaultMessage:"Cannot select files from other account"});return new Promise((function(r){a.Dropbox.choose({success:function(a){a.some((function(t){return null!=t.accountId&&t.accountId!==e.account_id}))?o.Snackbar.warn(s):n.moveFiles({user:e,files:a.map((function(e){return{id:e.id,name:e.name}})),newPath:t,checkFSWs:!0,useApiV2:!0}),r()},fields:l,multiselect:!0,folderselect:!0})}))}})),define("modules/clean/react/vault/lib/hooks",["require","exports","tslib","react","modules/core/browser","modules/core/uri"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),o=a.__importStar(o);var l=n.useEffect,s=n.useState,i=n.useCallback;t.useComponentDidMount=function(e){l(e,[])};var c=function(){var e,t=null!==(e=o.get_hash())&&void 0!==e?e:"";return r.QueryComponent.parseString(t)};t.useHashParam=function(e,t){var a,n=null!==(a=c()[e])&&void 0!==a?a:t,u=s(n),d=u[0],m=u[1];return l((function(){var a=function(){var a;m(null!==(a=c()[e])&&void 0!==a?a:t)};return window.addEventListener("hashchange",a),function(){return window.removeEventListener("hashchange",a)}}),[e]),[d,i((function(t){(function(e,t){var a,n=new r.QueryComponent(c());n.add(((a={})[e]=t,a)),o.set_hash(n.toString())})(e,t)}),[e])]}})),define("modules/clean/react/vault/logging_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.SELECT="select",e.SHOWN="shown",e.SUCCEED="succeed",e.VIEW="view"})(t.AnalyticsEventAction||(t.AnalyticsEventAction={})),(function(e){e["7DAY_SET_REMINDER"]="7day_set_reminder",e.ACCEPT_TRUSTED_CONTACT="accept_trusted_contact",e.ADD_ANOTHER_CONTACT="add_another_contact",e.ABOUT_VAULT="about_vault",e.ADD_FILE_DROPDOWN="add_file_dropdown",e.ADD_FILES="add_files",e.ADD_FILES_DROPDOWN_DROPBOX="add_files_dropdown_dropbox",e.ADD_FILES_DROPDOWN_FILE="add_files_dropdown_file",e.ADD_FILES_DROPDOWN_FOLDER="add_files_dropdown_folder",e.ADD_FILES_DROPDOWN_NEW_FOLDER="add_files_dropdown_new_folder",e.ADD_FILES_DROPDOWN_SCANNER="add_files_dropdown_scanner",e.ADD_FILES_POPUP="add_files_popup",e.ADD_SUGGESTIONS="add_suggestions",e.BACK_PASSWORD="back_password",e.BACK_PASSWORD_VALUE_PROP="back_password_value_prop",e.BENEFICIARY_ACCESS="beneficiary_access",e.BENEFICIARY_CHECKLIST="beneficiary_checklist",e.BENEFICIARY_SETTINGS="beneficiary_settings",e.CANCEL_BENEFICIARY_CHECKLIST="cancel_beneficiary_checklist",e.CANCEL_CONTACT="cancel_contact",e.CANCEL_PASSWORD="cancel_password",e.CANCEL_PASSWORD_CHECKLIST="cancel_password_checklist",e.CANCEL_RESET="cancel_reset",e.CANCEL_SUGGESTIONS_CHECKLIST="cancel_suggestions_checklist",e.CONFIRM_RESET="confirm_reset",e.CONTINUE="continue",e.DECLINE_TRUSTED_CONTACT="decline_trusted_contact",e.DOCUMENT_CHECKLIST="document_checklist",e.DOWNLOAD_VAULT_FILES="download_vault_files",e.FEEDBACK_MODAL="feedback_modal",e.FORGOT_PIN="forgot_pin",e.GIVE_ACCESS_ALERT="give_access_alert",e.GIVE_FEEDBACK="give_feedback",e.INVITE_CONTACT="invite_contact",e.LEARN_ABOUT_CONTACTS="learn_about_contacts",e.LOCK_VAULT="lock_vault",e.MOVE_INTO_LOCKED_VAULT="move_into_locked_vault",e.PASSWORD_CHECKLIST="password_checklist",e.PASSWORD_CREATION="password_creation",e.PASSWORD_DOWNLOAD="password_download",e.PASSWORD_LATER="password_later",e.REMINDER="reminder",e.REMOVE_CONTACT_CONFIRM="remove_contact_confirm",e.REMOVE_CONTACT_CONTEXT="remove_contact_context",e.REMOVE_FROM_CONTACT="remove_from_contact",e.RESET_PIN_MODAL="reset_pin_modal",e.SET_PASSWORD_SETTINGS="set_password_settings",e.SET_PROTECTION_PASSWORD="set_protection_password",e.SETUP_PASSWORD="setup_password",e.SEND_CONTACT="send_contact",e.SHARE_FILE="share_file",e.SHARE_FOLDER="share_folder",e.SKIP_PASSWORD="skip_password",e.SKIP_SUGGESTIONS="skip_suggestions",e.SKIP_PROTECTION_PASSWORD="skip_protection_password",e.SUBMIT_EMAIL_PIN_RESET="submit_email_pin_reset",e.SUGGESTION_PROMPT="suggestion_prompt",e.TRUSTED_ACCESS_NO_ALERT="trusted_access_no_alert",e.TRY_POPUP="try_popup",e.UNABLE_TO_RESET_PIN="unable_to_reset_pin",e.VALUE_PROP="value_prop",e.VALUE_PROP_CANCEL="value_prop_cancel",e.VALUE_PROP_CONTINUE="value_prop_continue",e.VAULT_CREATION="vault_creation",e.VAULT_FOLDER="vault_folder",e.VAULT_OPEN="vault_open",e.VAULT_PROTECTION="vault_protection",e.VAULT_SETTINGS="vault_settings"})(t.AnalyticsEventObject||(t.AnalyticsEventObject={})),(function(e){e.ADD_FILES_DROPDOWN="add_files_dropdown",e.API_V2="api_v2",e.BROWSE="browse",e.DROPBOX_HOME="dropbox_home",e.LOCKED_VAULT="locked_vault",e.ONBOARDING_CHECKLIST="onboarding_checklist",e.SETUP_PASSWORD="setup_password",e.VAULT_HOME="vault_home",e.VAULT_SETTINGS="vault_settings",e.TRUSTED_CONTACT="trusted_contact",e.CONTACT_INVITE_PAGE="contact_invite_page",e.CONNECTED_APPS="connected_apps",e.DEFAULT_APPS="default_apps",e.DOWNLOAD_VAULT="download_vault",e.PIN_RESET_FLOW="pin_reset_flow"})(t.AnalyticsEventActionSurface||(t.AnalyticsEventActionSurface={})),(function(e){e.ONBOARDING_PIN_CREATED_MODAL="onboarding_created_pin_feedback_modal",e.ONBOARDING_PIN_NOT_CREATED_MODAL="onboarding_skip_pin_feedback_modal",e.FEATURE_FEEDBACK_MODAL="vault_feature_feedback_modal",e.ONBOARDING_ABORT_MODAL="onboarding_abort_modal",e.SEAN_ELLIS_FORM="in_product_sean_ellis_form"})(t.FeedbackActionSurface||(t.FeedbackActionSurface={}))})),define("modules/clean/react/vault/redux/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.InitApp="Vault/InitApp",e.SetIsLocked="Vault/SetLockStatus",e.SetMetadata="Vault/SetMetadata",e.SetOnboardingState="Vault/SetVaultOnboardingState",e.SetIsFirstOnboardingStatePending="Vault/SetIsFirstOnboardingStatePending"})(t.Actions||(t.Actions={}))})),define("modules/clean/react/vault/redux/selectors",["require","exports","tslib","modules/clean/redux/namespaces","modules/clean/redux/selectors"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVaultState=function(e){return o.getStateAtNamespace(e,n.VAULT_NAMESPACE_KEY)},t.getIsLocked=function(e){return t.getVaultState(e).isLocked},t.getMetadata=function(e){var a=t.getVaultState(e);return{isLocked:a.isLocked,hasPassword:a.hasPassword,lockExpirationTimestamp:a.lockExpirationTimestamp}},t.getIsFirstMetadataPending=function(e){return t.getVaultState(e).isFirstMetadataPending},t.getIsFirstOnboardingStatePending=function(e){return t.getVaultState(e).isFirstOnboardingStatePending},t.getOnboardingState=function(e){var n=t.getVaultState(e);return a.__assign(a.__assign({},n.onboardingState),{hasSetPassword:n.hasPassword||n.onboardingState.hasSetPassword})}})),define("modules/clean/react/vault/redux/reducer",["require","exports","tslib","modules/clean/react/vault/redux/types"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultVaultState=function(){return{isFirstMetadataPending:!0,isFirstOnboardingStatePending:!0,isLocked:void 0,hasPassword:void 0,lockExpirationTimestamp:void 0,onboardingState:{hasSetPassword:!1,hasAddedBeneficiaries:!1,hasReceivedSuggestions:!1}}},t.vaultReducer=function(e,o){switch(void 0===e&&(e=t.getDefaultVaultState()),o.type){case n.Actions.InitApp:case n.Actions.SetIsLocked:return a.__assign(a.__assign({},e),o.payload);case n.Actions.SetMetadata:return a.__assign(a.__assign(a.__assign({},e),o.payload),{isFirstMetadataPending:!1});case n.Actions.SetOnboardingState:return a.__assign(a.__assign({},e),{onboardingState:a.__assign(a.__assign({},e.onboardingState),o.payload)});case n.Actions.SetIsFirstOnboardingStatePending:return a.__assign(a.__assign({},e),o.payload);default:return e}}})),define("modules/clean/react/vault/redux/actions",["require","exports","tslib","modules/clean/react/vault/lib/api","modules/clean/react/vault/lib/user_metadata","modules/clean/react/vault/lib/utils","modules/core/browser","modules/core/uri","modules/clean/react/vault/redux/types"],(function(e,t,a,n,o,r,l,s,i){"use strict";function c(e){return{type:i.Actions.SetIsLocked,payload:{isLocked:e}}}function u(e){return{type:i.Actions.SetMetadata,payload:e}}function d(e){return{type:i.Actions.SetOnboardingState,payload:e}}function m(e){return{type:i.Actions.SetIsFirstOnboardingStatePending,payload:{isFirstOnboardingStatePending:e}}}function f(){return function(e){return n.getMetadata(r.getActiveUserId()).then((function(t){var a={isLocked:!!t.is_locked,hasPassword:!!t.has_password,lockExpirationTimestamp:void 0===t.lock_expiration_timestamp?0:t.lock_expiration_timestamp};return e(u(a)),a}))}}function p(){return function(e){return o.getVaultOnboardingState().then((function(t){var a={hasSetPassword:t.hasSetPassword,hasAddedBeneficiaries:t.hasAddedBeneficiaries,hasReceivedSuggestions:t.hasReceivedSuggestions};return e(d(a)),e(m(!1)),a}))}}function _(e){return function(t){return t(d(e)),o.setVaultOnboardingState(e).then((function(){return t(p())}))}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),o=a.__importStar(o),l=a.__importStar(l),t.initApp=function(e){return void 0===e&&(e={}),{type:i.Actions.InitApp,payload:e}},t.create=function(){return function(e){return n.create(r.getActiveUserId()).then((function(t){e(f())}))}},t.setIsLocked=c,t.setMetadata=u,t.setOnboardingState=d,t.lock=function(){return function(e){return n.lock(r.getActiveUserId()).then((function(t){e(c(!0))}))}},t.setIsFirstOnboardingStatePending=m,t.unlock=function(e){return function(t){return n.unlock(r.getActiveUserId(),e).then((function(e){t(c(!1))}))}},t.setPassword=function(e,t){return function(){return n.setPassword(r.getActiveUserId(),e,t).then((function(e){}))}},t.flatten=function(e){return function(){return n.flatten(r.getActiveUserId(),e)}},t.upgrade=function(){return function(){l.redirect(new s.URI({path:"/plans"}))}},t.refreshVaultMetadata=f,t.refreshVaultOnboardingState=p,t.setVaultOnboardingState=_,t.setupVault=function(e){var t=this,o=e.password;return function(e){var l=r.getActiveUserId();return n.unlock(l,"").then((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return""===o?[3,2]:[4,n.setPassword(l,"",o)];case 1:t.sent(),e(_({hasSetPassword:!0})),t.label=2;case 2:return[2]}}))}))}))}}})),define("modules/clean/react/vault/redux/store",["require","exports","tslib","external/lodash","modules/clean/react/vault/redux/reducer","modules/clean/redux/namespaces","modules/clean/redux/store"],(function(e,t,a,n,o,r,l){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var i=((s={})[r.VAULT_NAMESPACE_KEY]=o.vaultReducer,s);t.getVaultStore=n.once((function(){return l.getStoreAndRegisterReducers(i)}))})),define("modules/clean/react/vault/provider",["require","exports","tslib","apollo/react-hooks","dropbox/proto/js_init_data/login_form/login_form","graphql/client/apollo","react","react-intl","dig-components/modal","modules/clean/react/vault/experiments","modules/clean/security/encryption_options_context","modules/core/i18n"],(function(e,t,a,n,o,r,l,s,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importStar(l);var m=new o.login_form.EncryptionOptions({plaintextFallback:!0});t.VaultProvider=function(e){var t=e.appElement,a=e.userId,o=e.experiments,m=e.encryptionOptions,f=e.children;l.useEffect((function(){i.Modal.setAppElement(null!=t?t:"#embedded-app")}),[t]);var p=l.useMemo((function(){return r.createApolloClient(a,{connectToDevTools:!0})}),[a]);return l.default.createElement(n.ApolloProvider,{client:p},l.default.createElement(c.ExperimentContextProvider,{experiments:o},l.default.createElement(u.EncryptionOptionsContext.Provider,{value:m},l.default.createElement(s.RawIntlProvider,{value:d.intl},f))))},t.TestVaultProvider=function(e){var n=e.children,o=e.experiments,r=a.__rest(e,["children","experiments"]);return l.default.createElement(t.VaultProvider,a.__assign({appElement:document.body,userId:0},r,{experiments:a.__assign(a.__assign({},c.defaultExperimentValues),o),encryptionOptions:m}),n)}})),define("vault/common/constants",["require","exports"],(function(e,t){"use strict";var a,n,o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.PASSWORD_LENGTH=6,(a=t.Key||(t.Key={})).BACKSPACE="Backspace",a.DELETE="Delete",a.ENTER="Enter",(n=t.TestTarget||(t.TestTarget={})).BACK_BUTTON="vault-back-button",n.CONTINUE_BUTTON="vault-continue-button",n.EMPTY_FILE_VIEW="vault-empty-file-view",n.FILES_TAB="vault-files-tab",n.FILES_TAB_HEADER="vault-files-tab-header",n.FLATTEN_MODAL_FLATTEN_BUTTON="vault-flatten-modal-flatten-button",n.HEADER="vault-header",n.INDEX_PAGE="vault-index-page",n.LOCK_BUTTON="vault-lock-button",n.ONBOARDING_CHECKLIST="vault-onboarding-checklist",n.ONBOARDING_CHECKLIST_ITEM_ACTION="vault-onboarding-checklist-item-action",n.ONBOARDING_MOVE_MODAL="vault-onboarding-move-modal",n.ONBOARDING_PASSWORD_MODAL="vault-onboarding-password-modal",n.ONBOARDING_VALUE_PROP_MODAL="vault-onboarding-value-prop-modal",n.PASSWORD_INPUT="vault-password-input",n.SETTINGS_BUTTON="vault-settings-button",n.SETTINGS_TAB="vault-settings-tab",n.SETTINGS_TAB_HEADER="vault-settings-tab-header",n.SECURITY_ROW_SUBTITLE="vault-security-row-subtitle",n.SECURITY_ROW_ACTION="vault-security-row-action",n.SECURITY_SECTION="vault-security-section",n.TRUSTED_CONTACT_ACCOUNT_SECTION="vault-trusted-contact-account-section",n.TRUSTED_CONTACT_CANCEL_MODAL="vault-trusted-contact-cancel-modal",n.TRUSTED_CONTACT_CANCEL_MODAL_PRIMARY_ACTION="vault-trusted-contact-cancel-modal-primary_action",n.TRUSTED_CONTACT_CANCEL_MODAL_SECONDARY_ACTION="vault-trusted-contact-cancel-modal-secondary_action",n.TRUSTED_CONTACT_DOWNLOAD_FORGOT_PASSWORD="vault-trusted-contact-download-forgot-password",n.TRUSTED_CONTACT_DOWNLOAD_PAGE_BUTTON="vault-trusted-contact-download-page-button",n.TRUSTED_CONTACT_DOWNLOAD_PASSWORD_FIELD="vault-trusted-contact-download-field",n.TRUSTED_CONTACT_DOWNLOAD_TOOLTIP="vault-trusted-contact-download-tooltip",n.TRUSTED_CONTACT_DUTY_TABLE="vault-trusted-contact-duty-table",n.TRUSTED_CONTACT_DUTY_TABLE_ROW="vault-trusted-contact-duty-table-row",n.TRUSTED_CONTACT_DUTY_TABLE_OPTIONS="vault-trusted-contact-duty-table-row-options",n.TRUSTED_CONTACT_DUTY_TABLE_ACCEPT="vault-trusted-contact-duty-table-accept",n.TRUSTED_CONTACT_DUTY_TABLE_DOWNLOAD="vault-trusted-contact-duty-table-download",n.TRUSTED_CONTACT_DUTY_TABLE_REMOVE="vault-trusted-contact-duty-table-remove",n.TRUSTED_CONTACT_FOOTER_ABOUT_VAULT="vault-trusted-contact-footer-about-vault",n.TRUSTED_CONTACT_FOOTER_ABOUT_TRUSTED_CONTACT="vault-trusted-contact-footer-about-trusted-contact",n.TRUSTED_CONTACT_SECTION="vault-trusted-contact-section",n.TRUSTED_CONTACT_SECTION_INVITE="vault-trusted-contact-section-invite",n.TRUSTED_CONTACT_INVITE_FORM="vault-trusted-contact-invite-form",n.TRUSTED_CONTACT_INVITE_FORM_ACCEPT="vault-trusted-contact-invite-form-accept",n.TRUSTED_CONTACT_INVITE_FORM_DECLINE="vault-trusted-contact-invite-form-decline",n.TRUSTED_CONTACT_INVITE_MODAL="vault-trusted-contact-invite-modal",n.TRUSTED_CONTACT_INVITE_MODAL_CANCEL="vault-trusted-contact-invite-modal-cancel",n.TRUSTED_CONTACT_INVITE_MODAL_CONFIRM="vault-trusted-contact-invite-modal-confirm",n.TRUSTED_CONTACT_INVITE_MODAL_EMAIL="vault-trusted-contact-invite-modal-email",n.TRUSTED_CONTACT_INVITE_MODAL_EMAIL_ERROR="vault-trusted-contact-invite-modal-email-error",n.TRUSTED_CONTACT_INVITE_MODAL_MESSAGE="vault-trusted-contact-invite-modal-message",n.TRUSTED_CONTACT_INVITE_MODAL_LEARN_MORE="vault-trusted-contact-invite-modal-learn-more",n.TRUSTED_CONTACT_PAGE_HEADER_ERROR="vault-trusted-contact-page-header-error",n.TRUSTED_CONTACT_REMINDER_MODAL="vault-trusted-contact-reminder-modal",n.TRUSTED_CONTACT_REMINDER_MODAL_PRIMARY_ACTION="vault-trusted-contact-reminder-modal-primary-action",n.TRUSTED_CONTACT_REMINDER_MODAL_SECONDARY_ACTION="vault-trusted-contact-reminder-modal-secondary-action",n.TRUSTED_CONTACT_RESIGN_MODAL="vault-trusted-contact-resign-modal",n.TRUSTED_CONTACT_RESIGN_MODAL_PRIMARY_ACTION="vault-trusted-contact-resign-modal-primary-action",n.TRUSTED_CONTACT_RESIGN_MODAL_SECONDARY_ACTION="vault-trusted-contact-resign-modal-secondary-action",n.TRUSTED_CONTACT_REVOKE_MODAL="vault-trusted-contact-revoke-modal",n.TRUSTED_CONTACT_REVOKE_MODAL_PRIMARY_ACTION="vault-trusted-contact-revoke-modal-primary-action",n.TRUSTED_CONTACT_REVOKE_MODAL_SECONDARY_ACTION="vault-trusted-contact-revoke-modal-secondary-action",n.TRUSTED_CONTACT_SSO_MODAL="vault-trusted-contact-sso-modal",n.TRUSTED_CONTACT_TABLE="vault-trusted-contact-table",n.TRUSTED_CONTACT_TABLE_ADD="vault-trusted-contact-table-add",n.TRUSTED_CONTACT_TABLE_ERROR="vault-trusted-contact-table-error",n.TRUSTED_CONTACT_TABLE_ERROR_ACTION="vault-trusted-contact-table-error-action",n.TRUSTED_CONTACT_TABLE_MODAL_ERROR="vault-trusted-contact-table-modal-error",n.TRUSTED_CONTACT_TABLE_ROW="vault-trusted-contact-table-row",n.TRUSTED_CONTACT_TABLE_ROW_CANCEL="vault-trusted-contact-table-row-send-cancel",n.TRUSTED_CONTACT_TABLE_ROW_MENU="vault-trusted-contact-table-row-menu",n.TRUSTED_CONTACT_TABLE_ROW_REMOVE="vault-trusted-contact-table-row-remove",n.TRUSTED_CONTACT_TABLE_ROW_SEND_REMINDER="vault-trusted-contact-table-row-send-reminder",n.UNLOCK_BUTTON="vault-unlock-button",n.UNLOCK_VIEW="vault-unlock-view",(o=t.TRUSTED_CONTACT_ACCESS_TYPE||(t.TRUSTED_CONTACT_ACCESS_TYPE={})).ACCEPTED="accepted",o.PENDING="invited",o.DECLINED="rejected",o.ACCESSED="accesssed",o.OTHER="other",(r=t.LEARN_MORE_LINK||(t.LEARN_MORE_LINK={})).ABOUT_TRUSTED_CONTACT="https://help.dropbox.com/files-folders/sort-preview/accept-vault-trusted-contact-invitation",r.ABOUT_VAULT="https://help.dropbox.com/files-folders/sort-preview/dropbox-vault",r.VAULT_OWNER_ADD_TRUSTED_CONTACT="https://help.dropbox.com/files-folders/sort-preview/vault-add-trusted-contact"})),define("vault/common/intl",["require","exports","tslib","react","react-intl"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.boldFormatter=function(e){return n.createElement("b",null,e)};t.DummyIntlProvider=function(e){var t=e.children,r=e.locale,l=o.createIntl({locale:r||"en"}),s=a.__assign(a.__assign({},l),{formatMessage:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e[0],n=e[1];return a.id="dummy",l.formatMessage(a,n)}});return n.createElement(o.RawIntlProvider,{value:s,children:t})},t.ContactDropboxLink=function(e){return n.createElement("a",{href:"mailto:vault-feedback@dropbox.com"},e)}})),define("vault/components/add-beneficiary",["require","exports","tslib","react","react-intl","dig-components/typography"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.AddBeneficiary=function(){var e=l().description;return n.createElement("div",{className:"add-beneficiary-content"},n.createElement(r.Text,{className:"add-beneficiary__description",tagName:"p"},e))};var l=function(){return{description:o.useIntl().formatMessage({id:"dFnsUz",defaultMessage:"Our team is hard at work getting this feature ready for your vault, and we can alert you as soon as it's done."})}}})),define("vault/components/add-content-menu",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/menu"],(function(e,t,a,n,o,r,l){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),(s=t.UploadOption||(t.UploadOption={})).DROPBOX="dropbox",s.FILE="upload_file",s.FOLDER="upload_folder",s.NEW_FOLDER="create_folder",t.AddContentMenu=function(e){var a=e.button,o=e.onAddFiles,s=i(),c=s.addMenu,u=s.addDropbox,d=s.addFile,m=s.addFolder,f=s.addNewFolder;return n.default.createElement(l.Menu.Wrapper,{onSelection:o},(function(e){var o=e.getTriggerProps,s=e.getContentProps;return n.default.createElement(n.default.Fragment,null,a?n.cloneElement(a,o()):n.default.createElement(r.Button,Object.assign({variant:"primary",withDropdownIcon:!0},o()),c),n.default.createElement(l.Menu.Content,Object.assign({},s()),n.default.createElement(l.Menu.Segment,null,n.default.createElement(l.Menu.ActionItem,{value:t.UploadOption.DROPBOX},u),n.default.createElement(l.Menu.ActionItem,{value:t.UploadOption.FILE},d),n.default.createElement(l.Menu.ActionItem,{value:t.UploadOption.FOLDER},m),n.default.createElement(l.Menu.ActionItem,{value:t.UploadOption.NEW_FOLDER},f))))}))};var i=function(){var e=o.useIntl();return{addMenu:e.formatMessage({id:"CMRaXx",defaultMessage:"Add"}),addDropbox:e.formatMessage({id:"QJaWZs",defaultMessage:"From Dropbox"}),addFile:e.formatMessage({id:"gqNBud",defaultMessage:"From computer (file)"}),addFolder:e.formatMessage({id:"rH7bQF",defaultMessage:"From computer (folder)"}),addNewFolder:e.formatMessage({id:"4mwsKO",defaultMessage:"New Folder"})}}})),define("vault/components/error-message",["require","exports","tslib","react","dig-components/typography"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.ErrorMessage=function(e){var t=e.message,r=a.__rest(e,["message"]);return n.createElement(o.Text,Object.assign({className:"vault-error-message",tagName:"p"},r),t)}})),define("vault/components/feedback-form-rating",["require","exports","tslib","react","react-intl","dig-components/controls","dig-components/text_fields","dig-components/typography"],(function(e,t,a,n,o,r,l,s){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),(function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE"})(i||(i={}));t.FeedbackFormRating=function(e){var t,o=e.data,u=e.onChange,d=c(),m=d.label1,f=d.label2,p=d.label3,_=d.label4,v=d.label5,g=d.placeholder,E=((t={})[i.ONE]=m,t[i.TWO]=f,t[i.THREE]=p,t[i.FOUR]=_,t[i.FIVE]=v,t),T=function(e){return function(){u(a.__assign(a.__assign({},o),{rating:e}))}};return n.createElement("div",{className:"feedback-form-rating"},n.createElement(s.Text,{className:"feedback-form-rating__prompt",isBold:!0,tagName:"h2"},o.ratingPrompt),n.createElement("div",{className:"feedback-form-rating__radio-buttons-container"},Object.values(i).filter((function(e){return"string"!=typeof e})).map((function(e){return n.createElement(r.RadioButton,{key:e,"aria-label":E[e],checked:e===o.rating,className:"feedback-form-rating__radio-button",onChange:T(e),value:e},e)}))),n.createElement("div",{className:"feedback-form-rating__rating-labels","aria-hidden":"true"},n.createElement(s.Text,{className:"feedback-form-rating__rating-one"},E[i.ONE]),n.createElement(s.Text,{className:"feedback-form-rating__rating-five"},E[i.FIVE])),n.createElement(s.Text,{tagName:"label",className:"feedback-form-rating__prompt",isBold:!0,htmlFor:"rating-comment-input"},o.commentPrompt),n.createElement(l.TextArea,{id:"rating-comment-input",value:o.comment,placeholder:g,onChange:function(e){u(a.__assign(a.__assign({},o),{comment:e.target.value}))}}))};var c=function(){var e=o.useIntl();return{label1:e.formatMessage({id:"eMUQ3U",defaultMessage:"Extremely dissatisfied"}),label2:e.formatMessage({id:"/pcMyV",defaultMessage:"Unsatisfied"}),label3:e.formatMessage({id:"Gzwfsl",defaultMessage:"Neither satisfied nor unsatisfied"}),label4:e.formatMessage({id:"2zRNW+",defaultMessage:"satisfied"}),label5:e.formatMessage({id:"E2qErh",defaultMessage:"Extremely Satisfied"}),placeholder:e.formatMessage({id:"hOSwE1",defaultMessage:"Optional"})}}})),define("vault/components/flatten-modal",["require","exports","tslib","react","react-intl","vault/common/trademark","vault/common/constants","dig-components/buttons","dig-components/modal","dig-components/typography"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.FlattenModal=function(e){var t,a=e.onFlatten,u=e.onUpgrade,d={modalTitle:(t=o.useIntl()).formatMessage({id:"2mSW1h",defaultMessage:"Plus is required to use {DROPBOX_VAULT}"},{DROPBOX_VAULT:r.DROPBOX_VAULT}),modalBody:t.formatMessage({id:"N005Qq",defaultMessage:"You no longer have {DROPBOX_PLUS}, we need to downgrade your vault to a regular folder. Your vault files will be temporarily unavailable while we do that."},{DROPBOX_PLUS:r.DROPBOX_PLUS}),modalBody2:t.formatMessage({id:"se/Icv",defaultMessage:"If you want to use vault again, upgrade to {PLUS}."},{PLUS:r.PLUS}),cont:t.formatMessage({id:"nWHtlz",defaultMessage:"Downgrade vault"}),upgrade:t.formatMessage({id:"/0mGRc",defaultMessage:"Subscribe to {PLUS}"},{PLUS:r.PLUS})},m=d.modalTitle,f=d.modalBody,p=d.modalBody2,_=d.cont,v=d.upgrade;return n.default.createElement(i.Modal,{open:!0},n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(c.Title,{tagName:"h1"},m)),n.default.createElement(i.Modal.Body,null,n.default.createElement(c.Text,{tagName:"p"},f),n.default.createElement(c.Text,{tagName:"p"},p)),n.default.createElement(i.Modal.Footer,null,n.default.createElement(s.Button,{variant:"opacity",onClick:u},v),n.default.createElement(s.Button,{variant:"primary",onClick:a,autoFocus:!0,"data-testid":l.TestTarget.FLATTEN_MODAL_FLATTEN_BUTTON},_)))}})),define("vault/components/onboarding-item",["require","exports","tslib","classnames","react","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/typography","vault/common/constants"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importDefault(o),t.OnboardingItem=function(e){var t=e.actionLabel,a=e.icon,u=e.isComplete,d=void 0!==u&&u,m=e.label,f=e.onClick,p=d?s.CheckmarkCircleFill:a;return o.default.createElement("div",{className:n.default("onboarding-item",{"onboarding-item--complete":d})},o.default.createElement("div",{className:"onboarding-item__body"},o.default.createElement("div",{className:"onboarding-item__icon"},o.default.createElement(l.UIIcon,{size:"large",src:p})),o.default.createElement(i.Text,{size:"standard",className:"onboarding-item__label"},m)),o.default.createElement(r.Button,{className:"onboarding-item__action-button",variant:"transparent",onClick:f,"data-testid":c.TestTarget.ONBOARDING_CHECKLIST_ITEM_ACTION},t))}})),define("vault/components/onboarding-move-modal",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography","vault/common/constants"],(function(e,t,a,n,o,r,l,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.OnboardingMoveModal=function(e){var t=e.onAddFiles,a=e.onSkip,o=e.onAfterOpen,u=e.open,d=e.image,m=c(),f=m.body,p=m.ctaPrimary,_=m.ctaSecondary,v=m.title;return n.createElement(l.Modal,{open:u,onAfterOpen:o,width:"large","data-testid":i.TestTarget.ONBOARDING_MOVE_MODAL},n.createElement("div",{className:"onboarding-move-modal__content-container"},n.createElement("div",{className:"onboarding-move-modal__content"},n.createElement(l.Modal.Header,{className:"onboarding-move-modal__header",hasBottomSpacing:"title-standard"},n.createElement(s.Title,{tagName:"h1",isBold:!0},v)),n.createElement(l.Modal.Body,{className:"onboarding-move-modal__body"},n.createElement(s.Text,{tagName:"p"},f)),n.createElement(l.Modal.Footer,{className:"onboarding-move-modal___footer"},n.createElement(r.Button,{className:"onboarding-move-modal__skip-button",variant:"opacity",onClick:a},_),n.createElement(r.Button,{className:"onboarding-move-modal__add-files-button",variant:"primary",onClick:t},p))),n.createElement("div",{className:"onboarding-move-modal__vault-icon-container"},d)))};var c=function(){var e=o.useIntl();return{body:e.formatMessage({id:"xdQIWj",defaultMessage:"Choose files from your Dropbox account to protect in a vault. Then they wonâ€™t be visible elsewhere in Dropbox â€” so you never risk exposing them accidentally."}),ctaPrimary:e.formatMessage({id:"AvC4zO",defaultMessage:"Move files"}),ctaSecondary:e.formatMessage({id:"q9pobO",defaultMessage:"Skip"}),title:e.formatMessage({id:"3M6nrm",defaultMessage:"Start a vault with files from your Dropbox"})}}})),define("vault/components/onboarding-value-prop-modal",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/modal","dig-components/typography","vault/common/constants","vault/common/intl"],(function(e,t,a,n,o,r,l,s,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.OnboardingValuePropModal=function(e){var t=e.onCancel,a=e.onContinue,o=e.image,l=[s.LockLine,s.MobileLine,s.PersonLine],d=f(),p=d.modalBodyMessages,_=d.primaryAction,v=d.secondaryAction,g=d.title;return n.createElement(i.Modal,{open:!0,width:"large"},n.createElement("div",{className:"onboarding-value-prop-modal__content-container","data-testid":u.TestTarget.ONBOARDING_VALUE_PROP_MODAL},n.createElement("div",{className:"onboarding-value-prop-modal__content"},n.createElement(i.Modal.Header,{className:"onboarding-value-prop-modal__header",hasBottomSpacing:"title-standard"},n.createElement(c.Title,{tagName:"h1",isBold:!0},g)),n.createElement(i.Modal.Body,{className:"onboarding-value-prop-modal__body"},p.map((function(e,t){return n.createElement(m,{iconSrc:l[t]},e)}))),n.createElement(i.Modal.Footer,{className:"onboarding-value-prop-modal___footer"},n.createElement(r.Button,{className:"onboarding-value-prop-modal__cancel-button",variant:"opacity",onClick:t},v),n.createElement(r.Button,{className:"onboarding-value-prop-modal__continue-button","data-testid":u.TestTarget.CONTINUE_BUTTON,variant:"primary",onClick:a},_))),n.createElement("div",{className:"onboarding-value-prop-modal__vault-icon-container"},o)))};var m=function(e){var t=e.children,a=e.iconSrc;return n.createElement(c.Text,{className:"onboarding-value-prop-modal__message"},n.createElement(l.UIIcon,{className:"onboarding-value-prop-modal__message-icon",src:a,size:"large"}),n.createElement("div",null,t))},f=function(){var e=o.useIntl();return{title:e.formatMessage({id:"oQ/5ii",defaultMessage:"Built for your most important files"}),modalBodyMessages:[e.formatMessage({id:"cYeL2x",defaultMessage:"<b>PIN and auto-lock</b> to protect one-of-a-kind docs, like passports"},{b:d.boldFormatter}),e.formatMessage({id:"6uu1c6",defaultMessage:"<b>Mobile access</b> to keep valuable photos out of your camera library"},{b:d.boldFormatter}),e.formatMessage({id:"ZEbwf+",defaultMessage:"<b>Emergency access</b> so family can get your records if anything happens to you"},{b:d.boldFormatter})],secondaryAction:e.formatMessage({id:"2XVSZh",defaultMessage:"Exit vault"}),primaryAction:e.formatMessage({id:"MzSzG7",defaultMessage:"Continue"})}}})),define("vault/components/password-form",["require","exports","tslib","vault/components/password-form/password-form","vault/components/password-form/update-password-form","vault/components/password-form/set-password-form"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t),a.__exportStar(o,t),a.__exportStar(r,t)})),define("vault/components/password-form/password-form",["require","exports","tslib","react","dig-components/typography","vault/components/segmented-password-input"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.PasswordForm=function(e){var t=e.disabled,a=e.length,o=e.onChange,r=e.onEnterInvalidValue,s=e.firstPasswordTitle,i=e.secondPasswordTitle,c=e.currentPassword,u=e.newPassword;return n.createElement("div",{className:"password-form"},n.createElement(l,{disabled:t,title:s,length:a,value:c,onChange:function(e){o(e,u)},onEnterInvalidValue:r,autoFocus:!c.length}),n.createElement(l,{disabled:t,autoFocus:c.length===a,title:i,length:a,onEnterInvalidValue:r,value:u,onChange:function(e){o(c,e)}}))};var l=function(e){var t=e.title,l=a.__rest(e,["title"]);return n.createElement("label",{className:"password-form__password-input"},n.createElement(o.Text,{className:"password-form__password-input__title",size:"small",tagName:"p"},t),n.createElement(r.SegmentedPasswordInput,Object.assign({},l)))}})),define("vault/components/password-form/set-password-form",["require","exports","tslib","react","react-intl","dig-components/typography","vault/components/password-form/password-form"],(function(e,t,a,n,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.SetPasswordForm=function(e){var t=s(),a=t.prompt,o=t.promptConfirm;return n.createElement(l.PasswordForm,Object.assign({firstPasswordTitle:a,secondPasswordTitle:o},e))},t.SetPasswordFormHeader=function(){var e=s(),t=e.title,a=e.description;return n.createElement("div",{className:"password-form-header"},n.createElement(r.Title,{className:"password-form__title",tagName:"h1"},t),n.createElement(r.Text,{className:"password-form__description",color:"faint",tagName:"p"},a))};var s=function(){var e=o.useIntl();return{prompt:e.formatMessage({id:"qgUahD",defaultMessage:"Enter PIN"}),promptConfirm:e.formatMessage({id:"NYx+ss",defaultMessage:"Confirm PIN"}),title:e.formatMessage({id:"P++1se",defaultMessage:"Set a PIN"}),description:e.formatMessage({id:"fLlEl0",defaultMessage:"Choose a unique PIN that youâ€™ll use to unlock your vault."})}}})),define("vault/components/password-form/update-password-form",["require","exports","tslib","react","react-intl","dig-components/typography","vault/components/password-form/password-form"],(function(e,t,a,n,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.UpdatePasswordForm=function(e){var t=s(),a=t.prompt,o=t.promptConfirm;return n.createElement(l.PasswordForm,Object.assign({firstPasswordTitle:a,secondPasswordTitle:o},e))},t.UpdatePasswordFormHeader=function(){var e=s(),t=e.title,a=e.description;return n.createElement("div",{className:"password-form-header"},n.createElement(r.Title,{className:"password-form__title",tagName:"h1"},t),n.createElement(r.Text,{className:"password-form__description",color:"faint",tagName:"p"},a))};var s=function(){var e=o.useIntl();return{prompt:e.formatMessage({id:"seRlbx",defaultMessage:"Current PIN"}),promptConfirm:e.formatMessage({id:"WZI4HR",defaultMessage:"New PIN"}),title:e.formatMessage({id:"Ww0HWC",defaultMessage:"Change PIN"}),description:e.formatMessage({id:"oK1+ka",defaultMessage:"Choose a unique 6-digit code that youâ€™ll use to unlock your vault on all devices."})}}})),define("vault/components/password-modal",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","vault/common/constants","vault/components/capture-enter","vault/components/error-message"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.VaultPasswordModal=function(e){var t,a=e.errorMessage,u=e.renderPasswordForm,d=e.renderTitle,m=e.onCancel,f=e.onClickPrimaryAction,p=e.open,_=e.addButtonDisabled,v={cancel:(t=o.useIntl()).formatMessage({id:"g6VcRe",defaultMessage:"Cancel"}),save:t.formatMessage({id:"8YUt40",defaultMessage:"Change PIN"})},g=v.cancel,E=v.save;return n.createElement(l.Modal,{className:"vault-password-modal",open:p,width:"small",ariaHideApp:!1},n.createElement(i.CaptureEnter,{disabled:_,onEnter:f},n.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},d()),n.createElement(l.Modal.Body,null,a&&n.createElement(c.ErrorMessage,{message:a}),u()),n.createElement(l.Modal.Footer,null,n.createElement(r.Button,{"data-testid":s.TestTarget.BACK_BUTTON,variant:"opacity",onClick:m},g),n.createElement(r.Button,{"data-testid":s.TestTarget.CONTINUE_BUTTON,disabled:_,onClick:f,variant:"primary"},E))))}})),define("vault/components/reactivation-modal",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography"],(function(e,t,a,n,o,r,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.ReactivationModal=function(e){var t,a=e.onClose,i=e.onConfirm,c={modalTitle:(t=o.useIntl()).formatMessage({id:"zePmlH",defaultMessage:"Want a reminder?"}),modalBody:t.formatMessage({id:"W/Ycc7",defaultMessage:"Dropbox can help you remember to come back and add filesâ€”weâ€™ll send a reminder email in 1 week."}),noThanks:t.formatMessage({id:"jtRued",defaultMessage:"No thanks"}),setReminder:t.formatMessage({id:"pewwTv",defaultMessage:"Set reminder"})},u=c.modalTitle,d=c.modalBody,m=c.noThanks,f=c.setReminder;return n.default.createElement(l.Modal,{open:!0,onRequestClose:a},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{tagName:"h1"},u)),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{tagName:"p"},d)),n.default.createElement(l.Modal.Footer,null,n.default.createElement(r.Button,{variant:"opacity",onClick:a},m),n.default.createElement(r.Button,{variant:"primary",onClick:i,autoFocus:!0},f)))}})),define("vault/components/security-row-item/index",["require","exports","tslib","react","dig-components/buttons","dig-components/typography","vault/common/constants"],(function(e,t,a,n,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.SecurityRowItem=function(e){var t=e.title,a=e.subtitle,s=void 0===a?"":a,i=e.actionTitle,c=e.onActionClick;return n.default.createElement("div",{className:"security-row-item"},n.default.createElement("div",{className:"security-row-item-description"},n.default.createElement(r.Text,{size:"large",className:"security-row-item-title"},t),!!s.length&&n.default.createElement(r.Text,{"data-testid":l.TestTarget.SECURITY_ROW_SUBTITLE,className:"security-row-item-subtitle",size:"standard",color:"faint"},s)),n.default.createElement("div",{className:"security-row-action"},n.default.createElement(o.Button,{"data-testid":l.TestTarget.SECURITY_ROW_ACTION,onClick:c,variant:"transparent"},i)))}})),define("vault/components/segmented-password-input",["require","exports","tslib","classnames","react","vault/common/constants"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importStar(o);var l=/[^0-9]/g;t.SegmentedPasswordInput=function(e){var t=e.ariaLabel,s=e.autoFocus,i=e.length,c=e.onChange,u=e.onEnterInvalidValue,d=e.size,m=void 0===d?"standard":d,f=e.value,p=e.disabled,_=void 0!==p&&p,v=o.useState(),g=v[0],E=v[1],T=o.useRef(null);o.useEffect((function(){var e;s&&(null===(e=T.current)||void 0===e||e.focus())}),[s]);var A=o.useCallback((function(){E((function(){var e,t,a,n=document.activeElement===T.current,o=null===(e=T.current)||void 0===e?void 0:e.selectionStart,r=null===(t=T.current)||void 0===t?void 0:t.selectionEnd,l=null===(a=T.current)||void 0===a?void 0:a.selectionDirection;return n&&null!=o&&null!=r&&null!=l?[o,r,l]:void 0}))}),[]);o.useEffect((function(){A()}),[A,_]);var b=function(){var e;null===(e=T.current)||void 0===e||e.focus()};return o.default.createElement("div",{className:"segmented-password-input"},o.default.createElement("input",{"aria-label":t,className:"segmented-password-visually-hidden-input-field","data-testid":r.TestTarget.PASSWORD_INPUT,maxLength:i,onBlur:function(){E(void 0)},onChange:function(e){var t=e.target.value;l.test(t)&&null!=u&&u(),t=e.target.value.replace(l,""),c(t),A()},onSelect:function(){A()},ref:T,type:"password",value:f,"aria-disabled":_,disabled:_}),a.__spreadArrays(new Array(i)).map((function(e,t){var a=f.length>t,r=(function(e,t,a){var n=!1,o=!1;if(e){var r=e[0],l=e[1];n=r<=t&&l>t;var s="backward"===e[2]?r:l;o=s===t||s===a&&t===a-1}return[n,o]})(g,t,i),l=r[0],s=r[1];return o.default.createElement("div",{key:t,className:n.default("segmented-password-input-field",{focus:(s||l)&&!_,large:"large"===m,disabled:_}),onClick:b,"aria-hidden":"true"},a?"Â·":null)})))}})),define("vault/components/settings-section-header/index",["require","exports","tslib","classnames","react","dig-components/typography"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importDefault(o),t.DATA_TEST_ID={subtitle:"settings-section-header-subtitle"},t.SettingsSectionHeader=function(e){var a=e.title,l=e.subtitle,s=e.className;return o.default.createElement("div",{className:n.default("settings-section-header",s)},o.default.createElement(r.Title,{isBold:!0,className:"settings-section-header-title"},a),l&&o.default.createElement(r.Text,{"data-testid":t.DATA_TEST_ID.subtitle,className:"settings-section-header-subtitle",size:"large",color:"faint"},l))}})),define("vault/components/trusted-contact-cancel-modal/index",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography","vault/common/constants","vault/components/trusted-contact-table-modal-error/index"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactCancelModal=function(e){var t=e.open,a=e.email,o=e.onPrimaryAction,d=e.onSecondaryAction,m=e.hasSubmissionError,f=u(),p=f.title,_=f.getBody,v=f.primaryAction,g=f.secondaryAction,E=f.revokeApiError;return n.default.createElement(l.Modal,{open:t},n.default.createElement("div",{"data-testid":i.TestTarget.TRUSTED_CONTACT_CANCEL_MODAL},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{tagName:"h1",isBold:!0},p)),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{tagName:"p"},_(a)),m&&n.default.createElement(c.TrustedContactTableModalError,{message:E})),n.default.createElement(l.Modal.Footer,null,n.default.createElement(r.Button,{onClick:d,"data-testId":i.TestTarget.TRUSTED_CONTACT_CANCEL_MODAL_SECONDARY_ACTION,variant:"opacity"},g),n.default.createElement(r.Button,{onClick:o,"data-testId":i.TestTarget.TRUSTED_CONTACT_CANCEL_MODAL_PRIMARY_ACTION,variant:"primary"},v))))};var u=function(){var e=o.useIntl();return{title:e.formatMessage({id:"fCcJ+a",defaultMessage:"Cancel Invite"}),getBody:function(t){return e.formatMessage({id:"a3ioU3",defaultMessage:"Are you sure you want to cancel {email}'s invite?"},{email:n.default.createElement("b",null,t)})},primaryAction:e.formatMessage({id:"HcGRtD",defaultMessage:"Confirm"}),secondaryAction:e.formatMessage({id:"NncM6z",defaultMessage:"Cancel"}),revokeApiError:e.formatMessage({id:"b2V4ID",defaultMessage:"Error occurred removing trusted contact. Please try again."})}}})),define("vault/components/trusted-contact-download-form/index",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/text_fields","dig-components/typography","vault/common/constants","vault/components/capture-enter","vault/components/page-title","vault/components/spacer","vault/components/conditional-tooltip","dig-components/text_fields"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m,f,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.FORGOT_PASSWORD_FLOW_PATH="/forgot";var v=function(e){var a=e.password,o=e.onDownload,l=e.displayName,s=e.firstName,v=e.onPasswordChange,g=e.isInvalid,T=e.disabled,A=E(),b=A.getDownloadHeader,S=A.asAReminder,M=A.getNotifiedBullet,C=A.sensitiveBullet,O=A.getSyncBullet,y=A.downloadButtonText,N=A.enterPasswordPlaceholder,h=A.enterPasswordLabel,P=A.forgotPassword,w=A.logInWithCorrectAccount,I=A.invalidCredential,D=a.length<=0;return n.default.createElement(n.default.Fragment,null,n.default.createElement(f.Spacer,{multiplier:5}),n.default.createElement(m.PageTitle,null,b(l)),n.default.createElement(f.Spacer,{multiplier:4}),n.default.createElement(c.Text,{size:"large"},S),n.default.createElement("ul",null,n.default.createElement("li",null,n.default.createElement(c.Text,{size:"large"},M(s))),n.default.createElement(f.Spacer,null),n.default.createElement("li",null,n.default.createElement(c.Text,{size:"large"},O(s))),n.default.createElement(f.Spacer,null),n.default.createElement("li",null,n.default.createElement(c.Text,{size:"large"},C))),n.default.createElement(f.Spacer,{multiplier:.5}),n.default.createElement(c.Text,{size:"large"},h),n.default.createElement(f.Spacer,null),n.default.createElement(d.CaptureEnter,{disabled:D,onEnter:o},n.default.createElement("div",{className:"vault-trusted-contact-download-password-input-section"},n.default.createElement(p.ConditionalTooltip,{shouldShow:null!=T&&T,title:w,"data-testid":u.TestTarget.TRUSTED_CONTACT_DOWNLOAD_TOOLTIP},n.default.createElement("div",{className:"vault-trusted-contact-download-password-input-feild"},n.default.createElement(i.TextInput,{"data-testid":u.TestTarget.TRUSTED_CONTACT_DOWNLOAD_PASSWORD_FIELD,type:"password",value:a,"aria-label":N,placeholder:N,onChange:function(e){v(e.currentTarget.value)},autoFocus:!0,isInvalid:g,disabled:T}),g&&n.default.createElement(_.FormHelperText,null,I))),n.default.createElement(r.Button,{"data-testid":u.TestTarget.TRUSTED_CONTACT_DOWNLOAD_PAGE_BUTTON,variant:"primary",onClick:o,disabled:D||T},y)),n.default.createElement(f.Spacer,null),n.default.createElement(c.Link,{variant:"monochromatic",href:t.FORGOT_PASSWORD_FLOW_PATH,isBold:!0,"data-testid":u.TestTarget.TRUSTED_CONTACT_DOWNLOAD_FORGOT_PASSWORD},n.default.createElement(c.Text,{size:"standard"},P))))},g=function(e){var t=e.displayName,a=E(),o=a.getDownloadStartingBodyText,r=a.downloadStartedHeader;return n.default.createElement(n.default.Fragment,null,n.default.createElement(f.Spacer,{multiplier:5}),n.default.createElement(m.PageTitle,null,n.default.createElement(l.PictogramIcon,{src:s.CheckmarkCircleFill})," ",r),n.default.createElement(f.Spacer,{multiplier:4}),n.default.createElement(c.Text,{size:"large"},o(t)))};function E(){var e=o.useIntl();return{getDownloadHeader:function(t){return e.formatMessage({id:"Zjv7Mi",defaultMessage:"Download {displayName}'s vault"},{displayName:t})},downloadStartedHeader:e.formatMessage({id:"cNBwY5",defaultMessage:"Downloading vault files"}),asAReminder:e.formatMessage({id:"Yz+eoy",defaultMessage:"Keep in mind:"}),getNotifiedBullet:function(t){return e.formatMessage({id:"Nexiwd",defaultMessage:"{firstName} will be notified that you downloaded these files"},{firstName:t})},getSyncBullet:function(t){return e.formatMessage({id:"EgjKrN",defaultMessage:"The ZIP folder youâ€™re downloading doesnâ€™t sync with {firstName}â€™s vaultâ€”if {firstName} makes updates, your folder stays the same"},{firstName:t})},sensitiveBullet:e.formatMessage({id:"4V98Ir",defaultMessage:"These files may be important or sensitive, so we recommend saving them somewhere password-protected"}),enterPasswordLabel:e.formatMessage({id:"n+uvlj",defaultMessage:"Enter your Dropbox password to download"}),enterPasswordPlaceholder:e.formatMessage({id:"+AF1Fn",defaultMessage:"Enter password"}),downloadButtonText:e.formatMessage({id:"6iQNae",defaultMessage:"Download ZIP"}),forgotPassword:e.formatMessage({id:"P1PU7P",defaultMessage:"Forgot password?"}),getDownloadStartingBodyText:function(t){return e.formatMessage({id:"9ylS0L",defaultMessage:"Your download will still continue if you close this page."},{displayName:t})},logInWithCorrectAccount:e.formatMessage({id:"yjQZvY",defaultMessage:"Log in with correct account to download ZIP"}),invalidCredential:e.formatMessage({id:"bH2wYE",defaultMessage:"Wrong password, try again"})}}t.TrustedContactDownloadForm=function(e){var t=e.isDownloading,a=e.password,o=e.onPasswordChange,r=e.onDownload,l=e.displayName,s=e.firstName,i=e.isInvalid,c=e.disabled;return t?n.default.createElement(g,{displayName:l}):n.default.createElement(v,{password:a,onDownload:r,onPasswordChange:o,displayName:l,firstName:s,isInvalid:i,disabled:c})}})),define("vault/components/trusted-contact-invite-modal/index",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/text_fields","dig-components/typography","vault/common/constants","vault/components/capture-enter","vault/components/spacer","vault/components/trusted-contact-table-modal-error/index"],(function(e,t,a,n,o,r,l,s,i,c,u,d,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);t.TrustedContactInviteModal=function(e){var t=e.onCancel,a=e.onSend,o=e.onMessageChange,p=e.onEmailChange,_=e.onEmailBlur,v=e.onLearnMoreClick,g=e.formError,E=e.isFormValid,T=e.open,A=e.message,b=e.email,S=e.isEmailInvalid,M=f(),C=M.title,O=M.subtitle,y=M.primaryAction,N=M.secondaryAction,h=M.learnMore,P=M.emailInputLabel,w=M.messageLabel,I=M.messageInputPlaceholder,D=M.emailInputError;return n.default.createElement(l.Modal,{open:T},n.default.createElement("div",{"data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL},n.default.createElement(u.CaptureEnter,{disabled:!E,onEnter:a},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(i.Title,{tagName:"h1",isBold:!0},C)),n.default.createElement(l.Modal.Body,{className:"trusted-contact-invite-modal-body"},n.default.createElement(i.Text,{id:"vault-trusted-contact-invite-modal-subtitle",tagName:"p"},O),n.default.createElement("div",null,n.default.createElement(s.TextInput,{"aria-label":P,value:b,"data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL_EMAIL,onChange:function(e){p(e.currentTarget.value)},placeholder:P,isInvalid:S,onBlur:_}),S&&n.default.createElement(s.FormHelperText,null,n.default.createElement("span",{"data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL_EMAIL_ERROR},D))),n.default.createElement(d.Spacer,null),n.default.createElement(s.TextArea,{"aria-label":w,value:A,"data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL_MESSAGE,maxLength:2e3,onChange:function(e){o(e.currentTarget.value)},placeholder:I,resizable:"vertical"}),g&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d.Spacer,{multiplier:2}),n.default.createElement(m.TrustedContactTableModalError,{message:g}))),n.default.createElement(l.Modal.Footer,{className:"trusted-contact-invite-modal-footer"},n.default.createElement("a",{href:c.LEARN_MORE_LINK.VAULT_OWNER_ADD_TRUSTED_CONTACT,target:"_blank",rel:"noreferrer"},n.default.createElement(r.Button,{className:"trusted-contact-invite-modal-learn-more","data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL_LEARN_MORE,variant:"transparent",onClick:v},h)),n.default.createElement("div",null,n.default.createElement(r.Button,{"data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL_CANCEL,variant:"opacity",onClick:t},N),n.default.createElement(r.Button,{"data-testid":c.TestTarget.TRUSTED_CONTACT_INVITE_MODAL_CONFIRM,variant:"primary",onClick:a,disabled:!E},y))))))};var f=function(){var e=o.useIntl();return{title:e.formatMessage({id:"AhNhGX",defaultMessage:"Invite trusted contact"}),subtitle:e.formatMessage({id:"vTdeG3",defaultMessage:"If your contact accepts, they can download all files in your vaultâ€”but weâ€™ll notify you if they do."}),secondaryAction:e.formatMessage({id:"+KvZSM",defaultMessage:"Cancel"}),primaryAction:e.formatMessage({id:"oWR0DH",defaultMessage:"Send"}),learnMore:e.formatMessage({id:"Ir37mw",defaultMessage:"About trusted contacts"}),emailInputLabel:e.formatMessage({id:"1tQ+LJ",defaultMessage:"Enter email address"}),messageLabel:e.formatMessage({id:"ypCq5U",defaultMessage:"Message"}),messageInputPlaceholder:e.formatMessage({id:"iGSzy9",defaultMessage:"You can use this message to explain that youâ€™d like to give them emergency access to your important files."}),emailInputError:e.formatMessage({id:"OEFgbn",defaultMessage:"We donâ€™t recognize that email address"})}}})),define("vault/components/trusted-contact-page-footer/index",["require","exports","tslib","react","react-intl","dig-components/typography","vault/common/constants","vault/common/constants","vault/components/spacer"],(function(e,t,a,n,o,r,l,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactPageFooter=function(e){var t,a=e.logAboutVaultClick,c=e.logAboutTrustedContactClick,u={haveQuestions:(t=o.useIntl()).formatMessage({id:"C0EJuB",defaultMessage:"Still have questions?"}),aboutTrustedContacts:t.formatMessage({id:"cnihuZ",defaultMessage:"About trusted contacts"}),aboutVault:t.formatMessage({id:"+n5ElF",defaultMessage:"About Dropbox Vault"})},d=u.haveQuestions,m=u.aboutTrustedContacts,f=u.aboutVault;return n.default.createElement("div",null,n.default.createElement(i.Spacer,null),n.default.createElement("div",{className:"vault-trusted-contact-footer-divider"}),n.default.createElement(i.Spacer,{multiplier:4}),n.default.createElement(r.Text,{size:"large"},d),n.default.createElement(i.Spacer,null),n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Link,{href:l.LEARN_MORE_LINK.ABOUT_TRUSTED_CONTACT,target:"_blank",rel:"noreferrer",className:"vault-about-trusted-contacts-link",onClick:c,variant:"monochromatic","data-testid":s.TestTarget.TRUSTED_CONTACT_FOOTER_ABOUT_TRUSTED_CONTACT},n.default.createElement(r.Text,{size:"large"},m)),n.default.createElement(r.Link,{className:"vault-about-dropbox-vault-link",href:l.LEARN_MORE_LINK.ABOUT_VAULT,target:"_blank",rel:"noreferrer",onClick:a,variant:"monochromatic","data-testid":s.TestTarget.TRUSTED_CONTACT_FOOTER_ABOUT_VAULT},n.default.createElement(r.Text,{size:"large"},f))))}})),define("vault/components/trusted-contact-reminder-modal/index",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography","vault/common/constants","vault/components/trusted-contact-table-modal-error/index"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactReminderModal=function(e){var t=e.open,a=e.email,o=e.onPrimaryAction,d=e.onSecondaryAction,m=e.hasSubmissionError,f=u(),p=f.title,_=f.getBody,v=f.primaryAction,g=f.secondaryAction,E=f.remindApiError;return n.default.createElement(l.Modal,{open:t},n.default.createElement("div",{"data-testid":i.TestTarget.TRUSTED_CONTACT_REMINDER_MODAL},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{tagName:"h1",isBold:!0},p)),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{tagName:"p"},_(a)),m&&n.default.createElement(c.TrustedContactTableModalError,{message:E})),n.default.createElement(l.Modal.Footer,null,n.default.createElement(r.Button,{onClick:d,"data-testId":i.TestTarget.TRUSTED_CONTACT_REMINDER_MODAL_SECONDARY_ACTION,variant:"opacity"},g),n.default.createElement(r.Button,{onClick:o,"data-testId":i.TestTarget.TRUSTED_CONTACT_REMINDER_MODAL_PRIMARY_ACTION,variant:"primary"},v))))};var u=function(){var e=o.useIntl();return{title:e.formatMessage({id:"rxk1CD",defaultMessage:"Send a reminder"}),getBody:function(t){return e.formatMessage({id:"I3gWqn",defaultMessage:"Do you want to send a reminder to {email} to accept your trusted contact invite?"},{email:n.default.createElement("b",null,t)})},primaryAction:e.formatMessage({id:"glZYBx",defaultMessage:"Send reminder"}),secondaryAction:e.formatMessage({id:"NncM6z",defaultMessage:"Cancel"}),remindApiError:e.formatMessage({id:"0ntjqF",defaultMessage:"Error occurred sending reminder. Please try again."})}}})),define("vault/components/trusted-contact-revoke-modal/index",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography","vault/common/constants","vault/components/trusted-contact-table-modal-error/index"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactRevokeModal=function(e){var t=e.open,a=e.email,o=e.displayName,d=e.onPrimaryAction,m=e.onSecondaryAction,f=e.hasSubmissionError,p=u(),_=p.title,v=p.getBody,g=p.primaryAction,E=p.secondaryAction,T=p.revokeApiError;return n.default.createElement(l.Modal,{open:t},n.default.createElement("div",{"data-testid":i.TestTarget.TRUSTED_CONTACT_REVOKE_MODAL},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{tagName:"h1",isBold:!0},_)),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{tagName:"p"},v(a,o)),f&&n.default.createElement(c.TrustedContactTableModalError,{message:T})),n.default.createElement(l.Modal.Footer,null,n.default.createElement(r.Button,{onClick:m,"data-testId":i.TestTarget.TRUSTED_CONTACT_REVOKE_MODAL_SECONDARY_ACTION,variant:"opacity"},E),n.default.createElement(r.Button,{onClick:d,"data-testId":i.TestTarget.TRUSTED_CONTACT_REVOKE_MODAL_PRIMARY_ACTION,variant:"primary"},g))))};var u=function(){var e=o.useIntl();return{title:e.formatMessage({id:"OtHjAe",defaultMessage:"Remove trusted contact?"}),getBody:function(t,a){return e.formatMessage({id:"ugZzDZ",defaultMessage:"This means {email} canâ€™t download your vault files anymore, but can still access any files theyâ€™ve already downloaded. We wonâ€™t notify them of this change."},{email:n.default.createElement("b",null,t),displayName:a})},primaryAction:e.formatMessage({id:"eCS6mP",defaultMessage:"Remove"}),secondaryAction:e.formatMessage({id:"NncM6z",defaultMessage:"Cancel"}),revokeApiError:e.formatMessage({id:"vTrAuv",defaultMessage:"Something went wrong, try again."})}}})),define("vault/components/trusted-contact-sso-modal/index",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/modal","dig-components/typography","vault/common/constants","vault/components/spacer"],(function(e,t,a,n,o,r,l,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactSSOModal=function(e){var t=e.open,a=e.setPasswordUrl,o=u(),d=o.title,m=o.body,f=o.primaryAction;return n.default.createElement(l.Modal,{open:t},n.default.createElement("div",{"data-testid":i.TestTarget.TRUSTED_CONTACT_SSO_MODAL},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{tagName:"h1",isBold:!0},d)),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{tagName:"p"},m),n.default.createElement(c.Spacer,null)),n.default.createElement(l.Modal.Footer,null,n.default.createElement("a",{href:a},n.default.createElement(r.Button,{variant:"primary"},f)))))};var u=function(){var e=o.useIntl();return{title:e.formatMessage({id:"MPFoRr",defaultMessage:"Set a Dropbox password to continue"}),body:e.formatMessage({id:"xffpe2",defaultMessage:"You use a third-party password (like Google or Apple) to sign in to Dropbox, but for extra security we require a Dropbox password to access vault files."}),primaryAction:e.formatMessage({id:"Gir0fu",defaultMessage:"Set Dropbox password"})}}})),define("vault/components/trusted-contact-table/index",["require","exports","tslib","vault/components/trusted-contact-table/trusted-contact-row","vault/components/trusted-contact-table/trusted-contact-table","vault/components/trusted-contact-table/trusted-contact-row-menu"],(function(e,t,a,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t),a.__exportStar(o,t),a.__exportStar(r,t)})),define("vault/components/trusted-contact-table-error/index",["require","exports","tslib","react","dig-components/snackbar","react-intl","dig-components/buttons","dig-components/icons","dig-components/icons/src","vault/components/spacer","vault/common/constants"],(function(e,t,a,n,o,r,l,s,i,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactTableError=function(e){var t,a=e.onAction,d={errorMessage:(t=r.useIntl()).formatMessage({id:"tlEIIf",defaultMessage:"Error loading"}),errorActionText:t.formatMessage({id:"yw2PXj",defaultMessage:"Refresh page"})},m=d.errorMessage,f=d.errorActionText;return n.default.createElement("div",{className:"trusted-contact-table-error-container","data-testid":u.TestTarget.TRUSTED_CONTACT_TABLE_ERROR},n.default.createElement(c.Spacer,null),n.default.createElement(o.Snackbar,{open:!0},n.default.createElement(s.UIIcon,{className:"trusted-contact-table-error-icon",src:i.WarningLine}),n.default.createElement(o.Snackbar.Message,null,m),n.default.createElement(o.Snackbar.Actions,null,n.default.createElement(l.Button,{variant:"transparent",onClick:a,inverse:!0,"data-testid":u.TestTarget.TRUSTED_CONTACT_TABLE_ERROR_ACTION},f))))}})),define("vault/components/trusted-contact-table-modal-error/index",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","dig-components/snackbar","vault/common/constants","vault/components/spacer"],(function(e,t,a,n,o,r,l,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.TrustedContactTableModalError=function(e){var t=e.message;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Spacer,null),n.default.createElement(l.Snackbar,{"data-testid":s.TestTarget.TRUSTED_CONTACT_TABLE_MODAL_ERROR,open:!0},n.default.createElement(o.UIIcon,{className:"trusted-contact-table-modal-error-icon",src:r.WarningLine}),n.default.createElement(l.Snackbar.Message,null,t)))}})),define("vault/components/vault-avatar/index",["require","exports","tslib","react","dig-components/avatar"],(function(e,t,a,n,o){"use strict";function r(e){return e&&e.substr(0,1).toLocaleUpperCase()}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.VaultAvatar=function(e){var t=e.className,l=void 0===t?"":t,s=e.displayName,i=e.abbreviatedName,c=e.email,u=e.isInactive,d=a.__rest(e,["className","displayName","abbreviatedName","email","isInactive"]),m=u?void 0:o.avatarColorForUserIdentifier(s||i||c||"");return n.default.createElement(o.Avatar,Object.assign({backgroundColor:m,className:l,isInactive:u},d),i||r(s)||r(c))}})),define("vault/components/vault-empty",["require","exports","tslib","react","react-intl","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/typography","vault/components/add-content-menu","vault/components/spacer"],(function(e,t,a,n,o,r,l,s,i,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.EmptyVault=function(e){var t=e.onAddFiles,a=e.onRequestHelp,o=d(),m=o.heading,f=o.body,p=o.ctaHelp;return n.createElement("div",{className:"empty-vault"},n.createElement("div",{className:"empty-vault__content"},n.createElement(c.AddContentMenu,{onAddFiles:t,button:n.createElement(r.IconButton,{variant:"transparent"},n.createElement(l.UIIcon,{size:"large",src:s.AddCircleLine}))}),n.createElement(u.Spacer,null),n.createElement(i.Title,{size:"small",tagName:"h3"},m),n.createElement(i.Text,{size:"small",tagName:"p"},f),n.createElement(r.Button,{variant:"transparent",size:"small",onClick:a},p)))};var d=function(){var e=o.useIntl();return{heading:e.formatMessage({id:"ldZiaj",defaultMessage:"Gather up the important stuff"}),body:e.formatMessage({id:"vgPtJM",defaultMessage:"Drop sensitive files, like financial and health records, here for safekeeping."}),ctaHelp:e.formatMessage({id:"jW+e5B",defaultMessage:"Not sure what to add?"})}}})),define("vault/components/conditional-tooltip",["require","exports","tslib","react","dig-components/tooltips"],(function(e,t,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.ConditionalTooltip=function(e){var t=e.shouldShow,r=e.children,l=a.__rest(e,["shouldShow","children"]);return t?n.default.createElement(o.Tooltip,Object.assign({},l),r):n.default.createElement(n.default.Fragment,null,r)}}));
//# sourceMappingURL=pkg-vault.min.js-vflb1qlCR.map