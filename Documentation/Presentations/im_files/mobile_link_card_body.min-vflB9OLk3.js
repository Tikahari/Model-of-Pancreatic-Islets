define(["require","exports","tslib","react","external/lodash","dig-components/buttons","modules/core/i18n","modules/clean/react/growth/continuous_onboarding/components/module_card/card_components","modules/clean/react/growth/send_app_link_form","modules/clean/react/growth/continuous_onboarding/logger"],(function(e,t,n,a,i,s,o,d,r,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=n.__importDefault(a),i=n.__importStar(i),t.MobileLinkTypeCardBody=function(e){var t=e.module,n=e.milestone,i=n.milestone_id,s=n.milestone_type_props,p=e.implementationData,u=e.onSkipClick,m=e.cardBodyAccessibilityProps,_=e.logger,c=s,y=c.description,M=c.email_success_description,L=c.sms_success_description,k=c.email_success_text,g=c.sms_success_text,T=c.email_input_field_placeholder,A=c.sms_input_field_placeholder,b=c.email_input_invalid_error_text,f=c.sms_input_invalid_error_text,C=c.send_email_cta_text,I=c.send_sms_cta_text,F=c.resend_email_cta_text,E=c.resend_sms_cta_text,h=c.send_button_style,x=c.resend_button_style,B="sms"===c.default_delivery_method[".tag"],N=a.default.useState(!1),w=N[0],D=N[1],v=a.default.useState(B?r.SendAppLinkFormType.SMS:r.SendAppLinkFormType.EMAIL),P=v[0],U=v[1],O=a.default.useState(""),G=O[0],V=O[1],R=a.default.useState(""),Z=R[0],j=R[1],q={onSkipClick:u,hasPrimaryCtaStyle:w?"primary"===x[".tag"]:"primary"===h[".tag"],send_email_cta_text:w?F:C,send_sms_cta_text:w?E:I},z=G||y;return a.default.createElement(d.ModuleCardBodyContainer,{className:"module-card__mobile-link",cardBodyAccessibilityProps:m},z&&a.default.createElement(d.ModuleCardDescription,{description:z}),a.default.createElement(r.SendAppLinkForm,{formTypes:B?[r.SendAppLinkFormType.SMS,r.SendAppLinkFormType.EMAIL]:[r.SendAppLinkFormType.EMAIL,r.SendAppLinkFormType.SMS],buttonPosition:r.SendAppLinkButtonPosition.BOTTOM,phoneInputData:p.phone_input_data,SubmitButton:l(q),onStatusChange:function(e){var n=e.sendStatus,a=e.currentFormType;switch(n){case r.SendStatus.SUCCESS:D(!0),j(a===r.SendAppLinkFormType.SMS?g:k),V(a===r.SendAppLinkFormType.SMS?L:M),_.logMobileLinkSubmitStatus(t.module_id,i,a===r.SendAppLinkFormType.SMS?S.MessageType.SMS:S.MessageType.EMAIL,S.MobileLinkSubmitStatus.SUCCESS);break;case r.SendStatus.INVALID:j(a===r.SendAppLinkFormType.SMS?f:b),_.logMobileLinkSubmitStatus(t.module_id,i,a===r.SendAppLinkFormType.SMS?S.MessageType.SMS:S.MessageType.EMAIL,S.MobileLinkSubmitStatus.INVALID);break;case r.SendStatus.FAILURE:j(o.intl.formatMessage({id:"8NCBLs",defaultMessage:"There was an error sending your link"})),_.logMobileLinkSubmitStatus(t.module_id,i,a===r.SendAppLinkFormType.SMS?S.MessageType.SMS:S.MessageType.EMAIL,S.MobileLinkSubmitStatus.FAIL);break;default:j("")}},onSwitchFormType:function(e){U(e),_.logMobileLinkSwitchForm(t.module_id,i,e===r.SendAppLinkFormType.SMS?S.MessageType.SMS:S.MessageType.EMAIL)},onSubmit:function(){_.logMilestoneCtaClick(t.module_id,i,{message_type:P===r.SendAppLinkFormType.SMS?S.MessageType.SMS:S.MessageType.EMAIL})},inputHelperText:Z,isFullWidth:!0,showDisclaimer:!0,formLayout:r.SendAppLinkFormLayout.SUBMIT_ON_BOTTOM,smsInputPlaceholder:A,emailInputPlaceholder:T}))},t.MobileLinkTypeCardBody.displayName="MobileLinkTypeCardBody";var l=i.memoize((function(e){var t=e.onSkipClick,n=e.hasPrimaryCtaStyle,i=e.send_sms_cta_text,S=e.send_email_cta_text;return function(e){var l,p,u=e.sendStatus,m=e.currentFormType,_=((l={default:i})[r.SendStatus.SENDING]=o.intl.formatMessage({id:"nCZAww",defaultMessage:"Sending..."}),l[r.SendStatus.SUCCESS]=i,l[r.SendStatus.INVALID]=i,l[r.SendStatus.FAILURE]=i,l),c=((p={default:S})[r.SendStatus.SENDING]=o.intl.formatMessage({id:"nCZAww",defaultMessage:"Sending..."}),p[r.SendStatus.SUCCESS]=S,p[r.SendStatus.INVALID]=S,p[r.SendStatus.FAILURE]=S,p),y=m===r.SendAppLinkFormType.SMS?_:c,M=u?y[u]:y.default,L=u===r.SendStatus.SENDING,k=a.default.createElement(s.Button,{className:"module-card__button-group__primary-cta",variant:n?"primary":"opacity",disabled:L,type:"submit"},M);return a.default.createElement(d.ModuleCardButtonGroup,{hasPrimaryCtaStyle:n,onSkipClick:t,primaryButton:k,disabled:L})}}))}));
//# sourceMappingURL=mobile_link_card_body.min.js-vflRWVfEY.map