va = -49.03736299581227
mcala=0.1293341713632475  
hcala=0.8127842536675057  
vcaa=65
gcala=0.7
vcalma=-30
scalma=10
vcalha=-33
scalha=-5
tcalh1a=60 
tcalh2a=51 
mcapqa=0.0120465460803863  
hcapqa=0.8127842536675057  
vcaa=65
vcapqma=-5
scapqma=10
vcapqha=-33
scapqha=-5
gcapqa=0.6
tcapqh1a=60
tcapqh2a=51
mcata=0.4633857551023612  
hcata=0.3735421388722815    
vcaa=65
gcata=0.5
vcatma=-49
scatma=4
vcatha=-52
scatha=-5
tcatm1a=15
tcatm2a=0
tcath1a=20
tcath2a=5
knockoutda=0
gGIRKko=0
lambda1=0.06
vGIRK=-80
sombara2=35
ssom2=10
ca=0.3449148387259899  
cmdpqa=11.51299890826233 
cera=58.71698724650182
N1a=1.057203539612775e-05
N2a=2.113947666062938e-05  
N3a=2.388848788981755e-05  
N4a=2.391806975716259e-06  
N5a=0.008850176609826538  
N6a=12.69715161782077  
NFa=0.001724142875712899  
NRa=0.1927364884362762  
G=31.73727470720019 
vc = 1e-13
caerbara=70
ssoca=-20
vsoca=0
k1a=20
km1a=100
r1a=0.6
rm1a=1
r20a=0.006
r30a=1.205
rm3a=0.0001
u1a=2000
u2a=3
u3a=0.025
kpa=2.3
kp2a=2.3
GlucFacta=0.05
vcella=0.624e-12
vmdpqa=1.41e-15
fVpqa=0.00226
fmda=0.01
Ba=1
alphaa=5.18e-15 
kpmcaa=0.3
fcyta=0.01
fera=0.01
pleaka=0.0003
sigmava=31
fa= 150
gsocbara=0.025
ksercaa=0.5
tmsb=0.001
knockoutda=0
p17=0.002
ra=4.5
sombara=50
rako=0.001
ssom=15
mkaa=0.4001652246173745
hkaa=0.1373195977592295  
vka=-75
gkaa=1
vkama=-45
skama=10
vkaha=-68
skaha=-10
taukama=0.1
tkah1a=60
tkah2a=5
gkatpbara=0.015 
vka=-75 
ka1=0.1
knockoutba=0
mkdra=0.2674634279865117 
vkdrma=-25
skdrma=23
gkdra=4.5
gla=0.2
vla=-20
mnaa=0.007938786735335676  
hnaa=0.2498175179717122 
vnaa=70
vnama=-30
vnaha=-52
snama=4
snaha=-8
tnah1a=120
tnah2a=0.5
gnaa=11
vm=-6
sm=10
gca=7
vca=25
nca=590
knockoutdb=0
vGIRK=-80
sombarb2=35
c=0.0630015242008439  
cer=81.57023672312617  
cmd=0.4188629403487558  
g6p=244.936858732948  
fbp=0.08283840527865462 
ADPm=13.53015038508978  
cam=0.01102007399722167 
NADHm=0.02908310367935971 
Psim=151.1015153147079  
adp=1913.096601466651  
N1=4.627586868810905  
N2=0.2262327588817945  
N3=0.003661670524646639  
N4=2.595179480355916e-06  
N5=7.762125378310579  
N6=274.1666227230976  
NF=0.00172689211245988  
NR=0.3002686554719045  
I=48.04298494148047

gthresh=40
sombarb=50
ssomb=15
rb=0.002 

fb = 2000
Jgk=0.4
factor=14
gkatpb=85

bas_r3=0.032
amplify=1
gkca=280
k4=150
gkatpbar=7000
kd=0.5
raL=0.5
vca=25
kdd=17
ktd=26
ktt=1
fcyt=0.01
fer=0.01
fmd=0.01
kpmca=0.2
cbas=0.05
B=1
per=0.0002
kserca3=0.1
kserca2b=0.01
sigmav=30
vmd=4.2e-3 
vcell=1.15
alpha=5.18e-6
phigk=0.3
KGPDH=0.0005
k1=30
k2=1
k3=50000
f13=0.02
f43=20
f23=0.2
f42=20
f41=20
taua=5
VmaxPFK=5
kappa=0.001
Jgpdh_bas=0.0005
fmito=0.01
gamma=0.001
p21=0.04
p22=1.1
exo_k1=20
bas_cmd=0.06935
p23=0.01
p24=0.016
Amtot=15
NADmtot=10
p1=400
p2=1
p3=0.01
p18=-0.03
p4=0.6
p5=0.1
p6=177
p7=5
p8=7
p9=0.1
p10=177
p11=5
p13=10
p14=190
p15=8.5
p16=35
p19=0.35
p20=2
khyd=0.00005
JhydSS=0.00005
amp=500
atot=2500
km1=100
r1=0.6
rm1=1
r20=0.006
r30=1.205 
rm3=0.0001
u1=2000
u2=3
u3=0.02
Kp=2.3
Kp2=2.3
tmsb=0.001
max_cmd=32
cmdp=4
kcmd=3
delta=0.0733082707     
vc = 1e-13
knockoutdb=0
vk=-75
nb=9.875188779513991e-05
taun=5
gk=1800
vn=-16
sn=6
mcald=0.8218051702003508  
hcald=0.6672499701175263  
gcald=700
vcad=65
vcalmd=-30
scalmd=10
vcalhd=-33
scalhd=-5
tcalh1d=60
tcalh2d=51
mcapqd=0.5089033026581684  
hcapqd=0.6672499701175263  
gcapqd=700
vcad=65
vcapqmd=-15
scapqmd=10
vcapqhd=-33
scapqhd=-5
tcapqh1d=60
tcapqh2d=51
knockoutbd=0
vGABA=0
mkad=0.9480884005315277 
hkad=0.02771925786328598  
gkad=500
vkd=-75
vkamd=-45
skamd=10
vkahd=-68
skahd=-10
taukamd=0.1
tkah1d=60
tkah2d=5
gkatpbard=180
mkdrd=0.5717652452166768 
gkdrd=7500
vkdrmd=-25
skdrmd=23
gld=200
vld=-20
mnad=0.9737137320580179  
hnad=0.006777955247303555  
gnad=5000
vnad=70
vnamd=-30
vnahd=-52
snamd=4
snahd=-8
tnah1d=120
tnah2d=0.5
cd=0.3051356309084454  
cmdld=19.82903375122306  
cmdpqd=27.93917378868966  
cerd=413.8135591677398  
Sst=18.71318922819339
con=0.00000000594
bas=0.0009
vc = 1e-13
tmsb=0.001
tausom=2000
pleakd=0.0003
fVld=0.00340
fVpqd=0.00226
fmdd=0.01
Bd=1 
alphad=5.18e-15
kpmcad=0.3
fcytd=0.01
ferd=0.01
sigmavd=31
ksercad=0.4
fd= 0.003
vmdpqd=1.41e-15
vmdld=2.12e-15
vb=-71.33779976819424
va=-49.03736299581227
vd=-16.26895428994972 
cm=5300
cma=5

import numpy as np

atp = atot-adp
Jhyd=(khyd*c+JhydSS)*atp 
mgadp = 0.165*adp
adp3m = 0.135*adp
atp4m = 0.05*atp


taucalma=(1/(np.exp(-(va+23)/20)+np.exp((va+23)/20)))+0.05
taucalha=(tcalh1a/(np.exp(-(va+0)/20)+np.exp((va+0)/20)))+tcalh2a
mcalinfa=1/(1+np.exp(-(va-vcalma)/scalma))
hcalinfa=1/(1+np.exp(-(va-vcalha)/scalha))
icala=gcala*(mcala**2)*hcala*(va-vcaa)
mcapqinfa=1/(1+np.exp(-(va-vcapqma)/scapqma))
hcapqinfa=1/(1+np.exp(-(va-vcapqha)/scapqha))
taucapqma=(1/(np.exp(-(va+23)/20)+np.exp((va+23)/20)))+0.05
taucapqha=(tcapqh1a/(np.exp(-(va+0)/20)+np.exp((va+0)/20)))+tcapqh2a
icapqa=gcapqa*mcapqa*hcapqa*(va-vcaa)
mcatinfa=1/(1+np.exp(-(va-vcatma)/scatma))
hcatinfa=1/(1+np.exp(-(va-vcatha)/scatha))
taucatma=(tcatm1a/(np.exp(-(va+50)/12)+np.exp((va+50)/12)))+tcatm2a
taucatha=(tcath1a/(np.exp(-(va+50)/15)+np.exp((va+50)/15)))+tcath2a
icata=gcata*(mcata**3)*hcata*(va-vcaa)
gGIRKbara=(1-knockoutda)*0.025+knockoutda*gGIRKko
EffSa=1/(1+np.exp(-(Sst-sombara2)/ssom2))
iGIRKa=gGIRKbara*EffSa*(va-vGIRK)
rm2a=(1-knockoutda)*ra/(1+np.exp(-(Sst-sombara)/ssom))+knockoutda*rako
cinfa = 1/(1+np.exp(-(cera-caerbara)/ssoca))
isoca = gsocbara*cinfa*(va-vsoca)
JLa=-alphaa*icala/vcella
JPQa=-alphaa*icapqa/vmdpqa
JTa=-alphaa*icata/vcella
Jmema = JTa+JLa+fVpqa*Ba*(cmdpqa-ca)-kpmcaa*ca
Jsercaa = ksercaa*ca
Jleaka = pleaka*(cera - ca)
Jera = Jleaka - Jsercaa
r2a=r20a*ca/(ca+kp2a)
r3a=GlucFacta*r30a*ca/(ca+kpa)
JGS=tmsb*u3a*NRa*0.0000988
mkainfa=1/(1+np.exp(-(va-vkama)/skama))
hkainfa=1/(1+np.exp(-(va-vkaha)/skaha))
taukaha=(tkah1a/(np.exp(-(va-5)/20)+np.exp((va-5)/20)))+tkah2a
ikaa=gkaa*mkaa*hkaa*(va-vka)
EffIa=(1-knockoutba)*((0.015/(1+np.exp((-I+1500)/200)))+ka1)+knockoutba*ka1
gkatpa=gkatpbara*EffIa
ikatpa=gkatpa*(va-vka)
mkdrinfa=1/(1+np.exp(-(va-vkdrma)/skdrma))
taukdrma=(1.5/(np.exp(-(va+10)/25)+np.exp((va+10)/25)))+15
ikdra=gkdra*(mkdra**4)*(va-vka)
ila=gla*(va-vla)
mnainfa=1/(1+np.exp(-(va-vnama)/snama))
hnainfa=1/(1+np.exp(-(va-vnaha)/snaha))
taunama=(6/(np.exp(-(va+50)/10)+np.exp((va+50)/10)))+0.05
taunaha=(tnah1a/(np.exp(-(va+50)/8)+np.exp((va+50)/8)))+tnah2a
inaa=gnaa*(mnaa**3)*hnaa*(va-vnaa)
minf = 1/(1+np.exp((vm-vb)/sm))
iCa = gca*nca*minf*(vb-vca)
gGIRKbarb=(1-knockoutdb)*10+knockoutdb*0
EffSb=1/(1+np.exp(-(Sst-sombarb2)/10))
iGIRKb=gGIRKbarb*EffSb*(vb-vGIRK)
r20=0.004/(1+np.exp(-G+gthresh))+0.006
rm2b=(1-knockoutdb)*rb/(1+np.exp(-(Sst-sombarb)/ssomb))+knockoutdb*0.001
ikca = gkca/(1+(kd/c)**2)*(vb-vk)
IcaL = raL*iCa
IcaR = (1-raL)*iCa
topo = 0.08*(1+2*mgadp/kdd) + 0.89*(mgadp/kdd)**2
bottomo = (1+mgadp/kdd)**2 * (1+adp3m/ktd+atp4m/ktt)
katpo = (topo/bottomo)
ikatp = gkatpb*(vb-vk)
vmdcyt=vmd/vcell
JL = -alpha*IcaL/vmd
JR = -alpha*IcaR/vcell
Jmem = JR+vmdcyt*B*(cmd-c)-kpmca*(c-cbas)
Jserca = kserca2b+kserca3*c
Jleak = per*(cer - c)
Jer = (Jleak - Jserca)
f6p = phigk*g6p
Jgpdh = KGPDH*np.sqrt(fbp) 
Jgk_ms=kappa*Jgk
mod_cmd=bas_cmd + max_cmd*cmd**cmdp/(cmd**cmdp+kcmd**cmdp)
weight1=1
topa1=0
bottom1=1
weight2=atp**2/k4
topa2=topa1
bottom2=bottom1+weight2
weight3=f6p**2/k3
topa3=topa2+weight3
bottom3=bottom2+weight3
weight4=(f6p*atp)**2/(f43*k3*k4)
topa4=topa3+weight4
bottom4=bottom3+weight4
weight5=fbp/k2
topa5=topa4
bottom5=bottom4+weight5
weight6=(fbp*atp**2)/(k2*k4*f42)
topa6=topa5
bottom6=bottom5+weight6
weight7=(fbp*f6p**2)/(k2*k3*f23)
topa7=topa6+weight7
bottom7=bottom6+weight7
weight8=(fbp*f6p**2*atp**2)/(k2*k3*k4*f23*f42*f43)
topa8=topa7+weight8
bottom8=bottom7+weight8
weight9=amp/k1
topa9=topa8
bottom9=bottom8+weight9
weight10=(amp*atp**2)/(k1*k4*f41)
topa10=topa9
bottom10=bottom9+weight10
weight11=(amp*f6p**2)/(k1*k3*f13)
topa11=topa10+weight11
bottom11=bottom10+weight11
weight12=(amp*f6p**2*atp**2)/(k1*k3*k4*f13*f41*f43)
topa12=topa11+weight12
bottom12=bottom11+weight12
weight13=(amp*fbp)/(k1*k2)
topa13=topa12
bottom13=bottom12+weight13
weight14=(amp*fbp*atp**2)/(k1*k2*k4*f42*f41)
topa14=topa13
bottom14=bottom13+weight14
weight15=(amp*fbp*f6p**2)/(k1*k2*k3*f23*f13)
topa15=topa14
topb=weight15
bottom15=bottom14+weight15
weight16=(amp*fbp*f6p**2*atp**2)/(k1*k2*k3*k4*f23*f13*f42*f41*f43)
topa16=topa15+weight16
bottom16=bottom15+weight16

pfk=(lambda1*VmaxPFK*topa16 + VmaxPFK*topb)/bottom16
pfk_ms=kappa*pfk 
Juni=(p21*Psim-p22)*c**2
JNaCa=(p23/c)*cam*np.exp(p24*Psim)
Jmito=JNaCa-Juni
NADm=NADmtot-NADHm
ATPm=Amtot-ADPm
RATm=ATPm/ADPm
Jpdh=(p1/(p2+NADHm/NADm))*(cam/(p3+cam))*(Jgpdh+Jgpdh_bas)
JHleak=p17*Psim+p18
MM1=p4*NADHm/(p5+NADHm)
JO=MM1/(1+np.exp((Psim-p6)/p7))
MM2=p8*NADHm/(p9+NADHm)
JHres=MM2/(1+np.exp((Psim-p10)/p11))
b2=(p16*p13)/(p13+ATPm)
JF1F0=b2/(1.0+np.exp((p14-Psim)/p15))
JHatp=3*JF1F0
FRT=96480/(310.16*8315)
Jant=p19*(RATm/(RATm+p20))/np.exp(-0.5*FRT*Psim)
atp = atot-adp
Jhyd=(khyd*c+JhydSS)*atp 
mgadp = 0.165*adp
adp3m = 0.135*adp
atp4m = 0.05*atp
ampfactor=factor*JO**2
r3 = bas_r3 + amplify*ampfactor*r30*c/(c + Kp)
r2 = r20*c/(c + Kp2)

JIS=tmsb*u3*NR*0.0016
ninf = 1/(1+np.exp((vn-vb)/sn))
ikb = gk*nb*(vb-vk)
mcalinfd=1/(1+np.exp(-(vd-vcalmd)/scalmd))
hcalinfd=1/(1+np.exp(-(vd-vcalhd)/scalhd))
taucalmd=(1/(np.exp(-(vd+23)/20)+np.exp((vd+23)/20)))+0.05
taucalhd=(tcalh1d/(np.exp(-(vd+0)/20)+np.exp((vd+0)/20)))+tcalh2d
icald=gcald*mcald**2*hcald*(vd-vcad)
mcapqinfd=1/(1+np.exp(-(vd-vcapqmd)/scapqmd))
hcapqinfd=1/(1+np.exp(-(vd-vcapqhd)/scapqhd))
taucapqmd=(1/(np.exp(-(vd+23)/20)+np.exp((vd+23)/20)))+0.05
taucapqhd=(tcapqh1d/(np.exp(-(vd+0)/20)+np.exp((vd+0)/20)))+tcapqh2d
icapqd=gcapqd*mcapqd*hcapqd*(vd-vcad)
gGABAbar=(1-knockoutbd)*0.1+knockoutbd*0
EffId = 800/(1+np.exp(-(I-1500)/500))
iGABA = gGABAbar*EffId*(vd-vGABA)
mkainfd=1/(1+np.exp(-(vd-vkamd)/skamd))
hkainfd=1/(1+np.exp(-(vd-vkahd)/skahd))
taukahd=(tkah1d/(np.exp(-(vd-5)/20)+np.exp((vd-5)/20)))+tkah2d
ikad=gkad*mkad*hkad*(vd-vkd)
ikatpd=gkatpbard*(vd-vkd)
mkdrinfd=1/(1+np.exp(-(vd-vkdrmd)/skdrmd))
taukdrmd=(1.5/(np.exp(-(vd+10)/25)+np.exp((vd+10)/25)))+15
ikdrd=gkdrd*mkdrd**4*(vd-vkd)
ild=gld*(vd-vld)
mnainfd=1/(1+np.exp(-(vd-vnamd)/snamd))
hnainfd=1/(1+np.exp(-(vd-vnahd)/snahd))
taunamd=(6/(np.exp(-(vd+50)/10)+np.exp((vd+50)/10)))+0.05
taunahd=(tnah1d/(np.exp(-(vd+50)/8)+np.exp((vd+50)/8)))+tnah2d
inad=gnad*mnad**3*hnad*(vd-vnad)
JLd=-alphad*icald/vmdld
JPQd=-alphad*icapqd/vmdpqd
Jmemd = fVld*Bd*(cmdld-cd)+fVpqd*Bd*(cmdpqd-cd)-kpmcad*cd
Jsercad = ksercad*cd
Jleakd = pleakd*(cerd - cd)
Jerd = (Jleakd - Jsercad)
y=(cmdpqd/200)**4/(0.2**4+(cmdpqd/200)**4)
Som=(200*mcapqd*hcapqd*(y)/tausom)+bas
JSS=tmsb*Som*con

initial = f"""
taucalma={(1/(np.exp(-(va+23)/20)+np.exp((va+23)/20)))+0.05}
taucalha={(tcalh1a/(np.exp(-(va+0)/20)+np.exp((va+0)/20)))+tcalh2a}
mcalinfa={1/(1+np.exp(-(va-vcalma)/scalma))}
hcalinfa={1/(1+np.exp(-(va-vcalha)/scalha))}
icala={gcala*(mcala**2)*hcala*(va-vcaa)}
mcapqinfa={1/(1+np.exp(-(va-vcapqma)/scapqma))}
hcapqinfa={1/(1+np.exp(-(va-vcapqha)/scapqha))}
taucapqma={(1/(np.exp(-(va+23)/20)+np.exp((va+23)/20)))+0.05}
taucapqha={(tcapqh1a/(np.exp(-(va+0)/20)+np.exp((va+0)/20)))+tcapqh2a}
icapqa={gcapqa*mcapqa*hcapqa*(va-vcaa)}
mcatinfa={1/(1+np.exp(-(va-vcatma)/scatma))}
hcatinfa={1/(1+np.exp(-(va-vcatha)/scatha))}
taucatma={(tcatm1a/(np.exp(-(va+50)/12)+np.exp((va+50)/12)))+tcatm2a}
taucatha={(tcath1a/(np.exp(-(va+50)/15)+np.exp((va+50)/15)))+tcath2a}
icata={gcata*(mcata**3)*hcata*(va-vcaa)}
gGIRKbara={(1-knockoutda)*0.025+knockoutda*gGIRKko}
EffSa={1/(1+np.exp(-(Sst-sombara2)/ssom2))}
iGIRKa={gGIRKbara*EffSa*(va-vGIRK)}
rm2a={(1-knockoutda)*ra/(1+np.exp(-(Sst-sombara)/ssom))+knockoutda*rako}
cinfa ={ 1/(1+np.exp(-(cera-caerbara)/ssoca))}
isoca ={ gsocbara*cinfa*(va-vsoca)}
JLa={-alphaa*icala/vcella}
JPQa={-alphaa*icapqa/vmdpqa}
JTa={-alphaa*icata/vcella}
Jmema ={ JTa+JLa+fVpqa*Ba*(cmdpqa-ca)-kpmcaa*ca}
Jsercaa ={ ksercaa*ca}
Jleaka ={ pleaka*(cera - ca)}
Jera ={ Jleaka - Jsercaa}
r2a={r20a*ca/(ca+kp2a)}
r3a={GlucFacta*r30a*ca/(ca+kpa)}
JGS={tmsb*u3a*NRa*0.0000988}
mkainfa={1/(1+np.exp(-(va-vkama)/skama))}
hkainfa={1/(1+np.exp(-(va-vkaha)/skaha))}
taukaha={(tkah1a/(np.exp(-(va-5)/20)+np.exp((va-5)/20)))+tkah2a}
ikaa={gkaa*mkaa*hkaa*(va-vka)}
EffIa={(1-knockoutba)*((0.015/(1+np.exp((-I+1500)/200)))+ka1)+knockoutba*ka1}
gkatpa={gkatpbara*EffIa}
ikatpa={gkatpa*(va-vka)}
mkdrinfa={1/(1+np.exp(-(va-vkdrma)/skdrma))}
taukdrma={(1.5/(np.exp(-(va+10)/25)+np.exp((va+10)/25)))+15}
ikdra={gkdra*(mkdra**4)*(va-vka)}
ila={gla*(va-vla)}
mnainfa={1/(1+np.exp(-(va-vnama)/snama))}
hnainfa={1/(1+np.exp(-(va-vnaha)/snaha))}
taunama={(6/(np.exp(-(va+50)/10)+np.exp((va+50)/10)))+0.05}
taunaha={(tnah1a/(np.exp(-(va+50)/8)+np.exp((va+50)/8)))+tnah2a}
inaa={gnaa*(mnaa**3)*hnaa*(va-vnaa)}
minf ={ 1/(1+np.exp((vm-vb)/sm))}
iCa ={ gca*nca*minf*(vb-vca)}
gGIRKbarb={(1-knockoutdb)*10+knockoutdb*0}
EffSb={1/(1+np.exp(-(Sst-sombarb2)/10))}
iGIRKb={gGIRKbarb*EffSb*(vb-vGIRK)}
r20={0.004/(1+np.exp(-G+gthresh))+0.006}
rm2b={(1-knockoutdb)*rb/(1+np.exp(-(Sst-sombarb)/ssomb))+knockoutdb*0.001}
ikca ={ gkca/(1+(kd/c)**2)*(vb-vk)}
IcaL ={ raL*iCa}
IcaR ={ (1-raL)*iCa}
topo ={ 0.08*(1+2*mgadp/kdd) + 0.89*(mgadp/kdd)**2}
bottomo ={ (1+mgadp/kdd)**2 * (1+adp3m/ktd+atp4m/ktt)}
katpo ={ (topo/bottomo)}
ikatp ={ gkatpb*(vb-vk)}
vmdcyt={vmd/vcell}
JL ={ -alpha*IcaL/vmd}
JR ={ -alpha*IcaR/vcell}
Jmem ={ JR+vmdcyt*B*(cmd-c)-kpmca*(c-cbas)}
Jserca ={ kserca2b+kserca3*c}
Jleak ={ per*(cer - c)}
Jer ={ (Jleak - Jserca)}
f6p ={ phigk*g6p}
Jgpdh ={ KGPDH*np.sqrt(fbp) }
Jgk_ms={kappa*Jgk}
mod_cmd={bas_cmd + max_cmd*cmd**cmdp/(cmd**cmdp+kcmd**cmdp)}
weight1={1}
topa1={0}
bottom1={1}
weight2={atp**2/k4}
topa2={topa1}
bottom2={bottom1+weight2}
weight3={f6p**2/k3}
topa3={topa2+weight3}
bottom3={bottom2+weight3}
weight4={(f6p*atp)**2/(f43*k3*k4)}
topa4={topa3+weight4}
bottom4={bottom3+weight4}
weight5={fbp/k2}
topa5={topa4}
bottom5={bottom4+weight5}
weight6={(fbp*atp**2)/(k2*k4*f42)}
topa6={topa5}
bottom6={bottom5+weight6}
weight7={(fbp*f6p**2)/(k2*k3*f23)}
topa7={topa6+weight7}
bottom7={bottom6+weight7}
weight8={(fbp*f6p**2*atp**2)/(k2*k3*k4*f23*f42*f43)}
topa8={topa7+weight8}
bottom8={bottom7+weight8}
weight9={amp/k1}
topa9={topa8}
bottom9={bottom8+weight9}
weight10={(amp*atp**2)/(k1*k4*f41)}
topa10={topa9}
bottom10={bottom9+weight10}
weight11={(amp*f6p**2)/(k1*k3*f13)}
topa11={topa10+weight11}
bottom11={bottom10+weight11}
weight12={(amp*f6p**2*atp**2)/(k1*k3*k4*f13*f41*f43)}
topa12={topa11+weight12}
bottom12={bottom11+weight12}
weight13={(amp*fbp)/(k1*k2)}
topa13={topa12}
bottom13={bottom12+weight13}
weight14={(amp*fbp*atp**2)/(k1*k2*k4*f42*f41)}
topa14={topa13}
bottom14={bottom13+weight14}
weight15={(amp*fbp*f6p**2)/(k1*k2*k3*f23*f13)}
topa15={topa14}
topb={weight15}
bottom15={bottom14+weight15}
weight16={(amp*fbp*f6p**2*atp**2)/(k1*k2*k3*k4*f23*f13*f42*f41*f43)}
topa16={topa15+weight16}
bottom16={bottom15+weight16}

pfk={(lambda1*VmaxPFK*topa16 + VmaxPFK*topb)/bottom16}
pfk_ms={kappa*pfk }
Juni={(p21*Psim-p22)*c**2}
JNaCa={(p23/c)*cam*np.exp(p24*Psim)}
Jmito={JNaCa-Juni}
NADm={NADmtot-NADHm}
ATPm={Amtot-ADPm}
RATm={ATPm/ADPm}
Jpdh={(p1/(p2+NADHm/NADm))*(cam/(p3+cam))*(Jgpdh+Jgpdh_bas)}
JHleak={p17*Psim+p18}
MM1={p4*NADHm/(p5+NADHm)}
JO={MM1/(1+np.exp((Psim-p6)/p7))}
MM2={p8*NADHm/(p9+NADHm)}
JHres={MM2/(1+np.exp((Psim-p10)/p11))}
b2={(p16*p13)/(p13+ATPm)}
JF1F0={b2/(1.0+np.exp((p14-Psim)/p15))}
JHatp={3*JF1F0}
FRT={96480/(310.16*8315)}
Jant={p19*(RATm/(RATm+p20))/np.exp(-0.5*FRT*Psim)}
atp ={ atot-adp}
Jhyd={(khyd*c+JhydSS)*atp }
mgadp ={ 0.165*adp}
adp3m ={ 0.135*adp}
atp4m ={ 0.05*atp}
ampfactor={factor*JO**2}
r3 ={ bas_r3 + amplify*ampfactor*r30*c/(c + Kp)}
r2 ={ r20*c/(c + Kp2)}

JIS={tmsb*u3*NR*0.0016}
ninf ={ 1/(1+np.exp((vn-vb)/sn))}
ikb ={ gk*nb*(vb-vk)}
mcalinfd={1/(1+np.exp(-(vd-vcalmd)/scalmd))}
hcalinfd={1/(1+np.exp(-(vd-vcalhd)/scalhd))}
taucalmd={(1/(np.exp(-(vd+23)/20)+np.exp((vd+23)/20)))+0.05}
taucalhd={(tcalh1d/(np.exp(-(vd+0)/20)+np.exp((vd+0)/20)))+tcalh2d}
icald={gcald*mcald**2*hcald*(vd-vcad)}
mcapqinfd={1/(1+np.exp(-(vd-vcapqmd)/scapqmd))}
hcapqinfd={1/(1+np.exp(-(vd-vcapqhd)/scapqhd))}
taucapqmd={(1/(np.exp(-(vd+23)/20)+np.exp((vd+23)/20)))+0.05}
taucapqhd={(tcapqh1d/(np.exp(-(vd+0)/20)+np.exp((vd+0)/20)))+tcapqh2d}
icapqd={gcapqd*mcapqd*hcapqd*(vd-vcad)}
gGABAbar={(1-knockoutbd)*0.1+knockoutbd*0}
EffId ={ 800/(1+np.exp(-(I-1500)/500))}
iGABA ={ gGABAbar*EffId*(vd-vGABA)}
mkainfd={1/(1+np.exp(-(vd-vkamd)/skamd))}
hkainfd={1/(1+np.exp(-(vd-vkahd)/skahd))}
taukahd={(tkah1d/(np.exp(-(vd-5)/20)+np.exp((vd-5)/20)))+tkah2d}
ikad={gkad*mkad*hkad*(vd-vkd)}
ikatpd={gkatpbard*(vd-vkd)}
mkdrinfd={1/(1+np.exp(-(vd-vkdrmd)/skdrmd))}
taukdrmd={(1.5/(np.exp(-(vd+10)/25)+np.exp((vd+10)/25)))+15}
ikdrd={gkdrd*mkdrd**4*(vd-vkd)}
ild={gld*(vd-vld)}
mnainfd={1/(1+np.exp(-(vd-vnamd)/snamd))}
hnainfd={1/(1+np.exp(-(vd-vnahd)/snahd))}
taunamd={(6/(np.exp(-(vd+50)/10)+np.exp((vd+50)/10)))+0.05}
taunahd={(tnah1d/(np.exp(-(vd+50)/8)+np.exp((vd+50)/8)))+tnah2d}
inad={gnad*mnad**3*hnad*(vd-vnad)}
JLd={-alphad*icald/vmdld}
JPQd={-alphad*icapqd/vmdpqd}
Jmemd ={ fVld*Bd*(cmdld-cd)+fVpqd*Bd*(cmdpqd-cd)-kpmcad*cd}
Jsercad ={ ksercad*cd}
Jleakd ={ pleakd*(cerd - cd)}
Jerd ={ (Jleakd - Jsercad)}
y={(cmdpqd/200)**4/(0.2**4+(cmdpqd/200)**4)}
Som={(200*mcapqd*hcapqd*(y)/tausom)+bas}
JSS={tmsb*Som*con}
"""
print(initial)